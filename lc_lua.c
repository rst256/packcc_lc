/* A packrat parser generated by PackCC 1.2.0 */

#ifdef _MSC_VER
#define _CRT_SECURE_NO_WARNINGS
#endif /* _MSC_VER */
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "luam/lua5x.h"

#ifndef _MSC_VER
#if defined __GNUC__ && defined _WIN32 /* MinGW */
static size_t strnlen(const char *str, size_t maxlen) {
    size_t i;
    for (i = 0; str[i] && i < maxlen; i++);
    return i;
}
#else
#include <unistd.h> /* for strnlen() */
#endif /* defined __GNUC__ && defined _WIN32 */ 
#endif /* _MSC_VER */

#include "lc_lua.h"

        static FILE* output;


typedef int item_t;
size_t half_div_search(item_t t[], size_t size, item_t ch){
        size_t begin=0, end=size;

        while (begin < end) {
                size_t mid = (begin + end) / 2;
                item_t c = t[mid];
                if ( c < ch ){
                        begin = mid + 1;
                }else if ( c > ch ){
                        if(mid==0 || t[mid-1] < ch) return mid;
                        end = mid;
                }else {
                        return mid+1;
                }
        }

        return 0;
}



int get_line(parser_t* p, int pos){ 
        if(p->pos < pos) return 0;

        //for(int i = 0; i<p->lines_count; i++) if(p->lines[i] > pos) return i+1;
        return half_div_search(p->lines, p->lines_count, pos)+1;
//p->lines_count+1; 
}

int get_col(parser_t* p, int pos){ 
        if(p->pos < pos) return 0;
        int line = half_div_search(p->lines, p->lines_count, pos);
        //for(i = 0; i<p->lines_count; i++) if(p->lines[i] > pos) break;
        return ( line  ? pos - p->lines[line-1] : pos ) + 1; 
}




#define CMPT_IDENT_TNAME "parser_ident"

static int createCmptIdent(lua_State *L, ident_t* id){
        ident_t** obj = lua_newuserdata(L, sizeof(ident_t*));
        if (obj == NULL) 
                luaL_error(L, "can't allocate memory for userdata '%s'", CMPT_IDENT_TNAME);
        *obj = id; 
        luaL_setmetatable(L, CMPT_IDENT_TNAME);
        return 1;
}

static int CmptIdent___tostring(lua_State *L){
        ident_t** id = luaL_checkudata(L, 1, CMPT_IDENT_TNAME);
        if (!id || !(*id)) 
                luaL_error(L, "userdata '%s' object has been freed", CMPT_IDENT_TNAME);
        lua_pushstring(L, ident_name(*id));
        return 1;
}






#define CMPT_SYMBOL_TNAME "parser_symbol"

static int createCmptSymbol(lua_State *L, symbol_t* id){
        if(!id){
                lua_pushnil(L);
                return 1;
        }
        symbol_t** obj = lua_newuserdata(L, sizeof(symbol_t*));
        if (obj == NULL) 
                luaL_error(L, "can't allocate memory for userdata '%s'", CMPT_SYMBOL_TNAME);
        *obj = id; 
        luaL_setmetatable(L, CMPT_SYMBOL_TNAME);
        return 1;
}

static int CmptSymbol___tostring(lua_State *L){
        symbol_t** self = luaL_checkudata(L, 1, CMPT_SYMBOL_TNAME);
        if (!self || !(*self)) 
                luaL_error(L, "userdata '%s' object has been freed", CMPT_SYMBOL_TNAME);
        lua_pushstring(L, symbol_name(*self));
        return 1;
}

static int CmptSymbol___call(lua_State *L){
        symbol_t** self = luaL_checkudata(L, 1, CMPT_SYMBOL_TNAME);
        if (!self || !(*self)) 
                luaL_error(L, "userdata '%s' object has been freed", CMPT_SYMBOL_TNAME);
        lua_rawgeti(L, LUA_REGISTRYINDEX, symbol_data(*self));
        return 1;
}

static int CmptSymbol___index(lua_State *L){
        symbol_t** self = luaL_checkudata(L, 1, CMPT_SYMBOL_TNAME);
        if (!self || !(*self)) 
                luaL_error(L, "userdata '%s' object has been freed", CMPT_SYMBOL_TNAME);
        lua_rawgeti(L, LUA_REGISTRYINDEX, symbol_data(*self));
        lua_pushvalue(L, 2);
        lua_gettable(L, -2);
        return 1;
}

static int CmptSymbol___newindex(lua_State *L){
        symbol_t** self = luaL_checkudata(L, 1, CMPT_SYMBOL_TNAME);
        if (!self || !(*self)) 
                luaL_error(L, "userdata '%s' object has been freed", CMPT_SYMBOL_TNAME);
        lua_rawgeti(L, LUA_REGISTRYINDEX, symbol_data(*self));
        lua_pushvalue(L, 2);
        lua_pushvalue(L, 3);
        lua_settable(L, -3);
        return 0;
}

/*
#define LUA_USERDATA_PTR(TYPE, ) luaL_checkudata(L, i, CMPT_OBJECT_TNAME);
static parser_t**  check_auxil(lua_State *L, int i){
        parser_t** ts = luaL_checkudata(L, i, CMPT_OBJECT_TNAME);
        if (ts == NULL || *ts == NULL ) 
                luaL_error(L, "userdata '%s' object has been freed", CMPT_OBJECT_TNAME);
        return ts;
}
*/

#define CMPT_OBJECT_TNAME "parser_auxil"

static parser_t**  check_auxil(lua_State *L, int i){
        parser_t** ts = luaL_checkudata(L, i, CMPT_OBJECT_TNAME);
        if (ts == NULL || *ts == NULL ) 
                luaL_error(L, "userdata '%s' object has been freed", CMPT_OBJECT_TNAME);
        return ts;
}
/*
static scope_t* check_scope(lua_State *L, int i){
        if(luaL_testudata(L, i, CMPT_OBJECT_TNAME)){
                return *check_auxil(L, i)->scope;
        }else{

        }
        scope_t** ts = luaL_checkudata(L, i, CMPT_SCOPE_TNAME);
        if (ts == NULL || *ts == NULL ) 
                luaL_error(L, "userdata '%s' object has been freed", CMPT_OBJECT_TNAME);
        return *ts;
}
*/

static int createCmptObject(lua_State *L, parser_t* parser){
        parser_t** obj = lua_newuserdata(L, sizeof(parser_t*));
        if (obj == NULL) 
                luaL_error(L, "can't allocate memory for userdata '%s' object", CMPT_OBJECT_TNAME);
        *obj = parser; 

        luaL_setmetatable(L, CMPT_OBJECT_TNAME);
        return 1;
}

static int CmptObject_clone(lua_State *L){
        parser_t* parser = *check_auxil(L, 1);
        parser_t** obj = lua_newuserdata(L, sizeof(parser_t*));
        if (obj == NULL) 
                luaL_error(L, "can't allocate memory for userdata '%s' object", CMPT_OBJECT_TNAME);
        *obj = malloc(sizeof(parser_t));
        **obj = *parser; 

        luaL_setmetatable(L, CMPT_OBJECT_TNAME);
        return 1;
}

static int CmptObject_pos(lua_State *L){
        parser_t* p = *check_auxil(L, 1);
        int pos = luaL_optinteger(L, 2, p->pos);
        lua_pushfstring(L, "%s:%d:%d: ", p->file_name, get_line(p, pos), get_col(p, pos));
        return 1;
}

static int CmptObject_get_line(lua_State *L){
        parser_t* p = *check_auxil(L, 1);
        lua_pushinteger(L, get_line(p, luaL_optinteger(L, 2, p->pos)));
        return 1;
}

static int CmptObject_get_col(lua_State *L){
        parser_t* p = *check_auxil(L, 1);
        lua_pushinteger(L, get_col(p, luaL_optinteger(L, 2, p->pos)));
        return 1;
}

static int CmptObject_get_level(lua_State *L){
        parser_t* p = *check_auxil(L, 1);
        lua_pushinteger(L, p->level);
        return 1;
}

static int CmptObject_get_file(lua_State *L){
        parser_t* p = *check_auxil(L, 1);
        lua_pushstring(L, p->file_name);
        return 1;
}

static int CmptObject_get_ctx(lua_State *L){
        parser_t* p = *check_auxil(L, 1);
        lua_rawgeti(L, LUA_REGISTRYINDEX, p->ctx);
        return 1;
}

static int CmptObject_get_ident(lua_State *L){
        parser_t* p = *check_auxil(L, 1);
        //lua_pushlightuserdata(L, ident_add(p->idents, luaL_checkstring(L, 2)));
        createCmptIdent(L, ident_add(p->idents, luaL_checkstring(L, 2)));
        return 1;
}

static int CmptObject_scope_sub(lua_State *L){
        parser_t* p = *check_auxil(L, 1);
        p->scope = scope_child(p->scope, NULL);
        p->level++;
        return 0;
}

static int CmptObject_scope_up(lua_State *L){
        parser_t* p = *check_auxil(L, 1);
        if( !(p->scope = scope_parent(p->scope)) ) luaL_error(L, "end of scope");
        p->level--;
        return 0;
}

static int CmptObject_scope_find(lua_State *L){
        parser_t* p = *check_auxil(L, 1);
        symbol_t* sym = luaL_testudata(L, 2, CMPT_SYMBOL_TNAME) ? 
                *(symbol_t**)luaL_checkudata(L, 2, CMPT_SYMBOL_TNAME) : 
                        scope_find(p->scope, ( lua_type(L, 2)==LUA_TUSERDATA ? 
                                *(ident_t**)lua_touserdata(L, 2) : 
                                ident_add(p->idents, luaL_checkstring(L, 2)) 
                        ));
        if(sym) 
                createCmptSymbol(L, sym);
                // lua_rawgeti(L, LUA_REGISTRYINDEX, symbol_data(sym)); 
        else 
                lua_pushnil(L);
        return 1;
}

static int CmptObject_scope_add(lua_State *L){
        parser_t* p = *check_auxil(L, 1);
        if(lua_isnoneornil(L, 3)) lua_newtable(L);
        symbol_t* sym = scope_define(p->scope, 
                ( lua_type(L, 2)==LUA_TUSERDATA ? 
                        *(ident_t**)lua_touserdata(L, 2) : ident_add(p->idents, luaL_checkstring(L, 2)) ),
                luaL_ref(L, LUA_REGISTRYINDEX)
        );
        if(sym) 
                createCmptSymbol(L, sym);
        else 
                lua_pushnil(L);
        // lua_pushboolean(L, sym!=NULL);
        return 1;
}

static int scope_next_fn(lua_State *L){
        scope_iter_t iter = lua_touserdata(L, 1);
        if(scope_iter_end(iter)){
                lua_pushnil(L);
                scope_iter_delete(iter);		
                free(iter);
                return 1;
        }
        createCmptSymbol(L, scope_iter_value(iter));
        lua_pushlightuserdata(L, scope_iter_key(iter));
        scope_iter_next(iter);
        return 2;
}

static int CmptObject_scope_pairs(lua_State *L){
        parser_t* p = *check_auxil(L, 1);
        scope_iter_t iter = scope_iter_new(p->scope, NULL);
        lua_pushcfunction(L, scope_next_fn);
        lua_pushlightuserdata(L, iter);
        return 2;
}

static int CmptObject_scope_first(lua_State *L){
        parser_t* p = *check_auxil(L, 1);
        createCmptSymbol(L, scope_first(p->scope));
        return 1;
}

static int _scope_next(lua_State *L){
        symbol_t** self = luaL_checkudata(L, 1, CMPT_SYMBOL_TNAME);
        if (!self || !(*self)) 
                luaL_error(L, "userdata '%s' object has been freed", CMPT_SYMBOL_TNAME);
        createCmptSymbol(L, scope_next(*self));
        return 1;
}


/*

static int CmptObject_scope_sub(lua_State *L){
        parser_t* p = *check_auxil(L, 1);
        p->scope = scope_child(p->scope, NULL);
        p->level++;
        return 0;
}

static int CmptObject_scope_up(lua_State *L){
        parser_t* p = *check_auxil(L, 1);
        if( !(p->scope = scope_parent(p->scope)) ) luaL_error(L, "end of scope");
        p->level--;
        return 0;
}

static int CmptObject_scope_find(lua_State *L){
        parser_t* p = *check_auxil(L, 1);
        symbol_t* sym = luaL_testudata(L, 2, CMPT_SYMBOL_TNAME) ? 
                *(symbol_t**)luaL_checkudata(L, 2, CMPT_SYMBOL_TNAME) : 
                        scope_find(p->scope, ( lua_type(L, 2)==LUA_TUSERDATA ? 
                                *(ident_t**)lua_touserdata(L, 2) : 
                                ident_add(p->idents, luaL_checkstring(L, 2)) 
                        ));
        if(sym) 
                createCmptSymbol(L, sym);
                // lua_rawgeti(L, LUA_REGISTRYINDEX, symbol_data(sym)); 
        else 
                lua_pushnil(L);
        return 1;
}

static int CmptObject_scope_add(lua_State *L){
        parser_t* p = *check_auxil(L, 1);
        if(lua_isnoneornil(L, 3)) lua_newtable(L);
        symbol_t* sym = scope_define(p->scope, 
                ( lua_type(L, 2)==LUA_TUSERDATA ? 
                        *(ident_t**)lua_touserdata(L, 2) : ident_add(p->idents, luaL_checkstring(L, 2)) ),
                luaL_ref(L, LUA_REGISTRYINDEX)
        );
        if(sym) 
                createCmptSymbol(L, sym);
        else 
                lua_pushnil(L);
        // lua_pushboolean(L, sym!=NULL);
        return 1;
}

static int scope_next_fn(lua_State *L){
        scope_iter_t iter = lua_touserdata(L, 1);
        if(scope_iter_end(iter)){
                lua_pushnil(L);
                scope_iter_delete(iter);		
                free(iter);
                return 1;
        }
        createCmptSymbol(L, scope_iter_value(iter));
        lua_pushlightuserdata(L, scope_iter_key(iter));
        scope_iter_next(iter);
        return 2;
}

static int CmptObject_scope_pairs(lua_State *L){
        parser_t* p = *check_auxil(L, 1);
        scope_iter_t iter = scope_iter_new(p->scope, NULL);
        lua_pushcfunction(L, scope_next_fn);
        lua_pushlightuserdata(L, iter);
        return 2;
}

static int CmptObject_scope_first(lua_State *L){
        parser_t* p = *check_auxil(L, 1);
        createCmptSymbol(L, scope_first(p->scope));
        return 1;
}

static int _scope_next(lua_State *L){
        symbol_t** self = luaL_checkudata(L, 1, CMPT_SYMBOL_TNAME);
        if (!self || !(*self)) 
                luaL_error(L, "userdata '%s' object has been freed", CMPT_SYMBOL_TNAME);
        createCmptSymbol(L, scope_next(*self));
        return 1;
}
*/




static int CmptObject___gc(lua_State *L){
        //parser_t** obj = checkCmptObject(L, 1);
        //luaL_unref(L, LUA_REGISTRYINDEX, (*obj)->ctx);
        return 0;
}

static int CmptObject___tostring(lua_State *L){
        lua_pushstring(L, CMPT_OBJECT_TNAME);
        return 1;
}


static int Cmpt_parse_file(lua_State *L){
                const char * f = strdup(luaL_checkstring(L, 1));
                FILE * fd = fopen(f, "r");
                if(!fd) luaL_error(L, "can't open input file: `%s`\n", f);

                        lua_newtable(L);	

                        parser_t ps = (parser_t){ 
                                L, fd, f, 0, 0, 0, luaL_ref(L, LUA_REGISTRYINDEX), 
                                scope_new(NULL), new_idents()
                        };



        createCmptObject(L, &(ps));
        lua_setglobal(L, "AUXIL");

                const char *include_file = "C:\\lib\\packcc\\lc_lua_h.lua";
                        if(include_file){ 
                                printf ("include file: %s\n", include_file); 
                                if(luaL_dofile(L, include_file))
                                        luaL_error(L, "C:\\lib\\packcc\\%s\n", luaL_checkstring(L, -1));
                        }
                        if(luaL_dofile(L, "C:\\lib\\packcc\\lc_lua.lua"))
                                luaL_error(L, luaL_checkstring(L, -1));

                lc_context_t *ctx = lc_create(&(ps));
                int ref;
                lc_parse(ctx, &ref);
                        lua_rawgeti(L, LUA_REGISTRYINDEX, ref);
                lc_destroy(ctx);

        return 1;
}


        #define  OUT(...) fprintf(output, __VA_ARGS__)


#ifndef PCC_BUFFERSIZE
#define PCC_BUFFERSIZE 256
#endif /* PCC_BUFFERSIZE */

#ifndef PCC_ARRAYSIZE
#define PCC_ARRAYSIZE 2
#endif /* PCC_ARRAYSIZE */

typedef enum pcc_bool_tag {
    PCC_FALSE = 0,
    PCC_TRUE
} pcc_bool_t;

typedef struct pcc_char_array_tag {
    char *buf;
    int max;
    int len;
} pcc_char_array_t;

typedef struct pcc_range_tag {
    int start;
    int end;
} pcc_range_t;

typedef int pcc_value_t;

typedef parser_t*pcc_auxil_t;

typedef struct pcc_value_table_tag {
    pcc_value_t *buf;
    int max;
    int len;
} pcc_value_table_t;

typedef struct pcc_value_refer_table_tag {
    pcc_value_t **buf;
    int max;
    int len;
} pcc_value_refer_table_t;

typedef struct pcc_capture_tag {
    pcc_range_t range;
    char *string; /* mutable */
} pcc_capture_t;

typedef struct pcc_capture_table_tag {
    pcc_capture_t *buf;
    int max;
    int len;
} pcc_capture_table_t;

typedef struct pcc_capture_const_table_tag {
    const pcc_capture_t **buf;
    int max;
    int len;
} pcc_capture_const_table_t;

typedef struct pcc_thunk_tag pcc_thunk_t;
typedef struct pcc_thunk_array_tag pcc_thunk_array_t;

typedef void (*pcc_action_t)(lc_context_t *, pcc_thunk_t *, pcc_value_t *);

typedef enum pcc_thunk_type_tag {
    PCC_THUNK_LEAF,
    PCC_THUNK_NODE,
} pcc_thunk_type_t;

typedef struct pcc_thunk_leaf_tag {
    pcc_value_refer_table_t values;
    pcc_capture_const_table_t capts;
    pcc_capture_t capt0;
    pcc_action_t action;
} pcc_thunk_leaf_t;

typedef struct pcc_thunk_node_tag {
    const pcc_thunk_array_t *thunks; /* just a reference */
    pcc_value_t *value; /* just a reference */
} pcc_thunk_node_t;

typedef union pcc_thunk_data_tag {
    pcc_thunk_leaf_t leaf;
    pcc_thunk_node_t node;
} pcc_thunk_data_t;

struct pcc_thunk_tag {
    pcc_thunk_type_t type;
    pcc_thunk_data_t data;
};

struct pcc_thunk_array_tag {
    pcc_thunk_t **buf;
    int max;
    int len;
};

typedef struct pcc_thunk_chunk_tag {
    pcc_value_table_t values;
    pcc_capture_table_t capts;
    pcc_thunk_array_t thunks;
    int pos;
} pcc_thunk_chunk_t;

typedef struct pcc_lr_entry_tag pcc_lr_entry_t;

typedef enum pcc_lr_answer_type_tag {
    PCC_LR_ANSWER_LR,
    PCC_LR_ANSWER_CHUNK,
} pcc_lr_answer_type_t;

typedef union pcc_lr_answer_data_tag {
    pcc_lr_entry_t *lr;
    pcc_thunk_chunk_t *chunk;
} pcc_lr_answer_data_t;

typedef struct pcc_lr_answer_tag pcc_lr_answer_t;

struct pcc_lr_answer_tag {
    pcc_lr_answer_type_t type;
    pcc_lr_answer_data_t data;
    int pos;
    pcc_lr_answer_t *hold;
};

typedef pcc_thunk_chunk_t *(*pcc_rule_t)(lc_context_t *);

typedef struct pcc_rule_set_tag {
    pcc_rule_t *buf;
    int max;
    int len;
} pcc_rule_set_t;

typedef struct pcc_lr_head_tag pcc_lr_head_t;

struct pcc_lr_head_tag {
    pcc_rule_t rule;
    pcc_rule_set_t invol;
    pcc_rule_set_t eval;
    pcc_lr_head_t *hold;
};

typedef struct pcc_lr_memo_tag {
    pcc_rule_t rule;
    pcc_lr_answer_t *answer;
} pcc_lr_memo_t;

typedef struct pcc_lr_memo_map_tag {
    pcc_lr_memo_t *buf;
    int max;
    int len;
} pcc_lr_memo_map_t;

typedef struct pcc_lr_table_entry_tag {
    pcc_lr_head_t *head; /* just a reference */
    pcc_lr_memo_map_t memos;
    pcc_lr_answer_t *hold_a;
    pcc_lr_head_t *hold_h;
} pcc_lr_table_entry_t;

typedef struct pcc_lr_table_tag {
    pcc_lr_table_entry_t **buf;
    int max;
    int len;
} pcc_lr_table_t;

struct pcc_lr_entry_tag {
    pcc_rule_t rule;
    pcc_thunk_chunk_t *seed; /* just a reference */
    pcc_lr_head_t *head; /* just a reference */
};

typedef struct pcc_lr_stack_tag {
    pcc_lr_entry_t **buf;
    int max;
    int len;
} pcc_lr_stack_t;

struct lc_context_tag {
    int pos;
    pcc_char_array_t buffer;
    pcc_lr_table_t lrtable;
    pcc_lr_stack_t lrstack;
    pcc_auxil_t auxil;
};

#ifndef PCC_ERROR
#define PCC_ERROR(auxil) pcc_error()
static void pcc_error(void) {
    fprintf(stderr, "Syntax error\n");
    exit(1);
}
#endif /* PCC_ERROR */

#ifndef PCC_GETCHAR
#define PCC_GETCHAR(auxil) getchar()
#endif /* PCC_GETCHAR */

#ifndef PCC_MALLOC
#define PCC_MALLOC(auxil, size) pcc_malloc_e(size)
static void *pcc_malloc_e(size_t size) {
    void *p = malloc(size);
    if (p == NULL) {
        fprintf(stderr, "Out of memory\n");
        exit(1);
    }
    return p;
}
#endif /* PCC_MALLOC */

#ifndef PCC_REALLOC
#define PCC_REALLOC(auxil, ptr, size) pcc_realloc_e(ptr, size)
static void *pcc_realloc_e(void *ptr, size_t size) {
    void *p = realloc(ptr, size);
    if (p == NULL) {
        fprintf(stderr, "Out of memory\n");
        exit(1);
    }
    return p;
}
#endif /* PCC_REALLOC */

#ifndef PCC_FREE
#define PCC_FREE(auxil, ptr) free(ptr)
#endif /* PCC_FREE */

static char *pcc_strndup_e(pcc_auxil_t auxil, const char *str, size_t len) {
    size_t m = strnlen(str, len);
    char *s = (char *)PCC_MALLOC(auxil, m + 1);
    memcpy(s, str, m);
    s[m] = '\0';
    return s;
}

static void pcc_char_array__init(pcc_auxil_t auxil, pcc_char_array_t *array, int max) {
    array->len = 0;
    array->max = max;
    array->buf = (char *)PCC_MALLOC(auxil, array->max);
}

static void pcc_char_array__add(pcc_auxil_t auxil, pcc_char_array_t *array, char ch) {
    if (array->max <= 0) array->max = 1;
    while (array->max <= array->len) array->max <<= 1;
    array->buf = (char *)PCC_REALLOC(auxil, array->buf, array->max);
    array->buf[array->len++] = ch;
}

static void pcc_char_array__term(pcc_auxil_t auxil, pcc_char_array_t *array) {
    PCC_FREE(auxil, array->buf);
}

static void pcc_value_table__init(pcc_auxil_t auxil, pcc_value_table_t *table, int max) {
    table->len = 0;
    table->max = max;
    table->buf = (pcc_value_t *)PCC_MALLOC(auxil, table->max * sizeof(pcc_value_t));
}

static void pcc_value_table__resize(pcc_auxil_t auxil, pcc_value_table_t *table, int len) {
    if (table->max < len) {
        if (table->max <= 0) table->max = 1;
        while (table->max < len) table->max <<= 1;
        table->buf = (pcc_value_t *)PCC_REALLOC(auxil, table->buf, table->max * sizeof(pcc_value_t));
    }
    table->len = len;
}

static void pcc_value_table__term(pcc_auxil_t auxil, pcc_value_table_t *table) {
    PCC_FREE(auxil, table->buf);
}

static void pcc_value_refer_table__init(pcc_auxil_t auxil, pcc_value_refer_table_t *table, int max) {
    table->len = 0;
    table->max = max;
    table->buf = (pcc_value_t **)PCC_MALLOC(auxil, table->max * sizeof(pcc_value_t *));
}

static void pcc_value_refer_table__resize(pcc_auxil_t auxil, pcc_value_refer_table_t *table, int len) {
    int i;
    if (table->max < len) {
        if (table->max <= 0) table->max = 1;
        while (table->max < len) table->max <<= 1;
        table->buf = (pcc_value_t **)PCC_REALLOC(auxil, table->buf, table->max * sizeof(pcc_value_t *));
    }
    for (i = table->len; i < len; i++) table->buf[i] = NULL;
    table->len = len;
}

static void pcc_value_refer_table__term(pcc_auxil_t auxil, pcc_value_refer_table_t *table) {
    PCC_FREE(auxil, table->buf);
}

static void pcc_capture_table__init(pcc_auxil_t auxil, pcc_capture_table_t *table, int max) {
    table->len = 0;
    table->max = max;
    table->buf = (pcc_capture_t *)PCC_MALLOC(auxil, table->max * sizeof(pcc_capture_t));
}

static void pcc_capture_table__resize(pcc_auxil_t auxil, pcc_capture_table_t *table, int len) {
    int i;
    for (i = table->len - 1; i >= len; i--) PCC_FREE(auxil, table->buf[i].string);
    if (table->max < len) {
        if (table->max <= 0) table->max = 1;
        while (table->max < len) table->max <<= 1;
        table->buf = (pcc_capture_t *)PCC_REALLOC(auxil, table->buf, table->max * sizeof(pcc_capture_t));
    }
    for (i = table->len; i < len; i++) {
        table->buf[i].range.start = 0;
        table->buf[i].range.end = 0;
        table->buf[i].string = NULL;
    }
    table->len = len;
}

static void pcc_capture_table__term(pcc_auxil_t auxil, pcc_capture_table_t *table) {
    int i;
    for (i = table->len - 1; i >= 0; i--) PCC_FREE(auxil, table->buf[i].string);
    PCC_FREE(auxil, table->buf);
}

static void pcc_capture_const_table__init(pcc_auxil_t auxil, pcc_capture_const_table_t *table, int max) {
    table->len = 0;
    table->max = max;
    table->buf = (const pcc_capture_t **)PCC_MALLOC(auxil, table->max * sizeof(const pcc_capture_t *));
}

static void pcc_capture_const_table__resize(pcc_auxil_t auxil, pcc_capture_const_table_t *table, int len) {
    int i;
    if (table->max < len) {
        if (table->max <= 0) table->max = 1;
        while (table->max < len) table->max <<= 1;
        table->buf = (const pcc_capture_t **)PCC_REALLOC(auxil, (pcc_capture_t **)table->buf, table->max * sizeof(const pcc_capture_t *));
    }
    for (i = table->len; i < len; i++) table->buf[i] = NULL;
    table->len = len;
}

static void pcc_capture_const_table__term(pcc_auxil_t auxil, pcc_capture_const_table_t *table) {
    PCC_FREE(auxil, (pcc_capture_t **)table->buf);
}

static pcc_thunk_t *pcc_thunk__create_leaf(pcc_auxil_t auxil, pcc_action_t action, int valuec, int captc) {
    pcc_thunk_t *thunk = (pcc_thunk_t *)PCC_MALLOC(auxil, sizeof(pcc_thunk_t));
    thunk->type = PCC_THUNK_LEAF;
    pcc_value_refer_table__init(auxil, &thunk->data.leaf.values, valuec);
    pcc_value_refer_table__resize(auxil, &thunk->data.leaf.values, valuec);
    pcc_capture_const_table__init(auxil, &thunk->data.leaf.capts, captc);
    pcc_capture_const_table__resize(auxil, &thunk->data.leaf.capts, captc);
    thunk->data.leaf.capt0.range.start = 0;
    thunk->data.leaf.capt0.range.end = 0;
    thunk->data.leaf.capt0.string = NULL;
    thunk->data.leaf.action = action;
    return thunk;
}

static pcc_thunk_t *pcc_thunk__create_node(pcc_auxil_t auxil, const pcc_thunk_array_t *thunks, pcc_value_t *value) {
    pcc_thunk_t *thunk = (pcc_thunk_t *)PCC_MALLOC(auxil, sizeof(pcc_thunk_t));
    thunk->type = PCC_THUNK_NODE;
    thunk->data.node.thunks = thunks;
    thunk->data.node.value = value;
    return thunk;
}

static void pcc_thunk__destroy(pcc_auxil_t auxil, pcc_thunk_t *thunk) {
    if (thunk == NULL) return;
    switch (thunk->type) {
    case PCC_THUNK_LEAF:
        PCC_FREE(auxil, thunk->data.leaf.capt0.string);
        pcc_capture_const_table__term(auxil, &thunk->data.leaf.capts);
        pcc_value_refer_table__term(auxil, &thunk->data.leaf.values);
        break;
    case PCC_THUNK_NODE:
        break;
    default: /* unknown */
        break;
    }
    PCC_FREE(auxil, thunk);
}

static void pcc_thunk_array__init(pcc_auxil_t auxil, pcc_thunk_array_t *array, int max) {
    array->len = 0;
    array->max = max;
    array->buf = (pcc_thunk_t **)PCC_MALLOC(auxil, array->max * sizeof(pcc_thunk_t *));
}

static void pcc_thunk_array__add(pcc_auxil_t auxil, pcc_thunk_array_t *array, pcc_thunk_t *thunk) {
    if (array->max <= 0) array->max = 1;
    while (array->max <= array->len) array->max <<= 1;
    array->buf = (pcc_thunk_t **)PCC_REALLOC(auxil, array->buf, array->max * sizeof(pcc_thunk_t *));
    array->buf[array->len++] = thunk;
}

static void pcc_thunk_array__revert(pcc_auxil_t auxil, pcc_thunk_array_t *array, int len) {
    if (array->len > len) {
        int i;
        for (i = array->len - 1; i >= len; i--) pcc_thunk__destroy(auxil, array->buf[i]);
        array->len = len;
    }
}

static void pcc_thunk_array__term(pcc_auxil_t auxil, pcc_thunk_array_t *array) {
    int i;
    for (i = array->len - 1; i >= 0; i--) pcc_thunk__destroy(auxil, array->buf[i]);
    PCC_FREE(auxil, array->buf);
}

static pcc_thunk_chunk_t *pcc_thunk_chunk__create(pcc_auxil_t auxil) {
    pcc_thunk_chunk_t *chunk = (pcc_thunk_chunk_t *)PCC_MALLOC(auxil, sizeof(pcc_thunk_chunk_t));
    pcc_value_table__init(auxil, &chunk->values, PCC_ARRAYSIZE);
    pcc_capture_table__init(auxil, &chunk->capts, PCC_ARRAYSIZE);
    pcc_thunk_array__init(auxil, &chunk->thunks, PCC_ARRAYSIZE);
    chunk->pos = 0;
    return chunk;
}

static void pcc_thunk_chunk__destroy(pcc_auxil_t auxil, pcc_thunk_chunk_t *chunk) {
    if (chunk == NULL) return;
    pcc_thunk_array__term(auxil, &chunk->thunks);
    pcc_capture_table__term(auxil, &chunk->capts);
    pcc_value_table__term(auxil, &chunk->values);
    PCC_FREE(auxil, chunk);
}

static void pcc_rule_set__init(pcc_auxil_t auxil, pcc_rule_set_t *set, int max) {
    set->len = 0;
    set->max = max;
    set->buf = (pcc_rule_t *)PCC_MALLOC(auxil, set->max * sizeof(pcc_rule_t));
}

static int pcc_rule_set__index(pcc_auxil_t auxil, const pcc_rule_set_t *set, pcc_rule_t rule) {
    int i;
    for (i = 0; i < set->len; i++) {
        if (set->buf[i] == rule) return i;
    }
    return -1;
}

static pcc_bool_t pcc_rule_set__add(pcc_auxil_t auxil, pcc_rule_set_t *set, pcc_rule_t rule) {
    int i = pcc_rule_set__index(auxil, set, rule);
    if (i >= 0) return PCC_FALSE;
    if (set->max <= 0) set->max = 1;
    while (set->max <= set->len) set->max <<= 1;
    set->buf = (pcc_rule_t *)PCC_REALLOC(auxil, set->buf, set->max * sizeof(pcc_rule_t));
    set->buf[set->len++] = rule;
    return PCC_TRUE;
}

static pcc_bool_t pcc_rule_set__remove(pcc_auxil_t auxil, pcc_rule_set_t *set, pcc_rule_t rule) {
    int i = pcc_rule_set__index(auxil, set, rule);
    if (i < 0) return PCC_FALSE;
    memmove(set->buf + i, set->buf + (i + 1), (set->len - (i + 1)) * sizeof(pcc_rule_t));
    return PCC_TRUE;
}

static void pcc_rule_set__clear(pcc_auxil_t auxil, pcc_rule_set_t *set) {
    set->len = 0;
}

static void pcc_rule_set__copy(pcc_auxil_t auxil, pcc_rule_set_t *set, const pcc_rule_set_t *src) {
    int i;
    pcc_rule_set__clear(auxil, set);
    for (i = 0; i < src->len; i++) {
        pcc_rule_set__add(auxil, set, src->buf[i]);
    }
}

static void pcc_rule_set__term(pcc_auxil_t auxil, pcc_rule_set_t *set) {
    PCC_FREE(auxil, set->buf);
}

static pcc_lr_head_t *pcc_lr_head__create(pcc_auxil_t auxil, pcc_rule_t rule) {
    pcc_lr_head_t *head = (pcc_lr_head_t *)PCC_MALLOC(auxil, sizeof(pcc_lr_head_t));
    head->rule = rule;
    pcc_rule_set__init(auxil, &head->invol, PCC_ARRAYSIZE);
    pcc_rule_set__init(auxil, &head->eval, PCC_ARRAYSIZE);
    head->hold = NULL;
    return head;
}

static void pcc_lr_head__destroy(pcc_auxil_t auxil, pcc_lr_head_t *head) {
    if (head == NULL) return;
    pcc_lr_head__destroy(auxil, head->hold);
    pcc_rule_set__term(auxil, &head->eval);
    pcc_rule_set__term(auxil, &head->invol);
    PCC_FREE(auxil, head);
}

static void pcc_lr_entry__destroy(pcc_auxil_t auxil, pcc_lr_entry_t *lr);

static pcc_lr_answer_t *pcc_lr_answer__create(pcc_auxil_t auxil, pcc_lr_answer_type_t type, int pos) {
    pcc_lr_answer_t *answer = (pcc_lr_answer_t *)PCC_MALLOC(auxil, sizeof(pcc_lr_answer_t));
    answer->type = type;
    answer->pos = pos;
    answer->hold = NULL;
    switch (answer->type) {
    case PCC_LR_ANSWER_LR:
        answer->data.lr = NULL;
        break;
    case PCC_LR_ANSWER_CHUNK:
        answer->data.chunk = NULL;
        break;
    default: /* unknown */
        PCC_FREE(auxil, answer);
        answer = NULL;
    }
    return answer;
}

static void pcc_lr_answer__set_chunk(pcc_auxil_t auxil, pcc_lr_answer_t *answer, pcc_thunk_chunk_t *chunk) {
    pcc_lr_answer_t *a = pcc_lr_answer__create(auxil, answer->type, answer->pos);
    switch (answer->type) {
    case PCC_LR_ANSWER_LR:
        a->data.lr = answer->data.lr;
        break;
    case PCC_LR_ANSWER_CHUNK:
        a->data.chunk = answer->data.chunk;
        break;
    default: /* unknown */
        break;
    }
    a->hold = answer->hold;
    answer->hold = a;
    answer->type = PCC_LR_ANSWER_CHUNK;
    answer->data.chunk = chunk;
}

static void pcc_lr_answer__destroy(pcc_auxil_t auxil, pcc_lr_answer_t *answer) {
    if (answer == NULL) return;
    pcc_lr_answer__destroy(auxil, answer->hold);
    switch (answer->type) {
    case PCC_LR_ANSWER_LR:
        pcc_lr_entry__destroy(auxil, answer->data.lr);
        break;
    case PCC_LR_ANSWER_CHUNK:
        pcc_thunk_chunk__destroy(auxil, answer->data.chunk);
        break;
    default: /* unknown */
        break;
    }
    PCC_FREE(auxil, answer);
}

static void pcc_lr_memo_map__init(pcc_auxil_t auxil, pcc_lr_memo_map_t *map, int max) {
    map->len = 0;
    map->max = max;
    map->buf = (pcc_lr_memo_t *)PCC_MALLOC(auxil, map->max * sizeof(pcc_lr_memo_t));
}

static int pcc_lr_memo_map__index(pcc_auxil_t auxil, pcc_lr_memo_map_t *map, pcc_rule_t rule) {
    int i;
    for (i = 0; i < map->len; i++) {
        if (map->buf[i].rule == rule) return i;
    }
    return -1;
}

static void pcc_lr_memo_map__put(pcc_auxil_t auxil, pcc_lr_memo_map_t *map, pcc_rule_t rule, pcc_lr_answer_t *answer) {
    int i = pcc_lr_memo_map__index(auxil, map, rule);
    if (i >= 0) {
        pcc_lr_answer__destroy(auxil, map->buf[i].answer);
        map->buf[i].answer = answer;
    }
    else {
        if (map->max <= 0) map->max = 1;
        while (map->max <= map->len) map->max <<= 1;
        map->buf = (pcc_lr_memo_t *)PCC_REALLOC(auxil, map->buf, map->max * sizeof(pcc_lr_memo_t));
        map->buf[map->len].rule = rule;
        map->buf[map->len].answer = answer;
        map->len++;
    }
}

static pcc_lr_answer_t *pcc_lr_memo_map__get(pcc_auxil_t auxil, pcc_lr_memo_map_t *map, pcc_rule_t rule) {
    int i = pcc_lr_memo_map__index(auxil, map, rule);
    return (i >= 0) ? map->buf[i].answer : NULL;
}

static void pcc_lr_memo_map__term(pcc_auxil_t auxil, pcc_lr_memo_map_t *map) {
    int i;
    for (i = map->len - 1; i >= 0; i--) pcc_lr_answer__destroy(auxil, map->buf[i].answer);
    PCC_FREE(auxil, map->buf);
}

static pcc_lr_table_entry_t *pcc_lr_table_entry__create(pcc_auxil_t auxil) {
    pcc_lr_table_entry_t *entry = (pcc_lr_table_entry_t *)PCC_MALLOC(auxil, sizeof(pcc_lr_table_entry_t));
    entry->head = NULL;
    pcc_lr_memo_map__init(auxil, &entry->memos, PCC_ARRAYSIZE);
    entry->hold_a = NULL;
    entry->hold_h = NULL;
    return entry;
}

static void pcc_lr_table_entry__destroy(pcc_auxil_t auxil, pcc_lr_table_entry_t *entry) {
    if (entry == NULL) return;
    pcc_lr_head__destroy(auxil, entry->hold_h);
    pcc_lr_answer__destroy(auxil, entry->hold_a);
    pcc_lr_memo_map__term(auxil, &entry->memos);
    PCC_FREE(auxil, entry);
}

static void pcc_lr_table__init(pcc_auxil_t auxil, pcc_lr_table_t *table, int max) {
    table->len = 0;
    table->max = max;
    table->buf = (pcc_lr_table_entry_t **)PCC_MALLOC(auxil, table->max * sizeof(pcc_lr_table_entry_t *));
}

static void pcc_lr_table__resize(pcc_auxil_t auxil, pcc_lr_table_t *table, int len) {
    int i;
    for (i = table->len - 1; i >= len; i--) pcc_lr_table_entry__destroy(auxil, table->buf[i]);
    if (table->max < len) {
        if (table->max <= 0) table->max = 1;
        while (table->max < len) table->max <<= 1;
        table->buf = (pcc_lr_table_entry_t **)PCC_REALLOC(auxil, table->buf, table->max * sizeof(pcc_lr_table_entry_t *));
    }
    for (i = table->len; i < len; i++) table->buf[i] = NULL;
    table->len = len;
}

static void pcc_lr_table__set_head(pcc_auxil_t auxil, pcc_lr_table_t *table, int index, pcc_lr_head_t *head) {
    if (index >= table->len) pcc_lr_table__resize(auxil, table, index + 1);
    if (table->buf[index] == NULL) table->buf[index] = pcc_lr_table_entry__create(auxil);
    table->buf[index]->head = head;
}

static void pcc_lr_table__hold_head(pcc_auxil_t auxil, pcc_lr_table_t *table, int index, pcc_lr_head_t *head) {
    if (index >= table->len) pcc_lr_table__resize(auxil, table, index + 1);
    if (table->buf[index] == NULL) table->buf[index] = pcc_lr_table_entry__create(auxil);
    head->hold = table->buf[index]->hold_h;
    table->buf[index]->hold_h = head;
}

static void pcc_lr_table__set_answer(pcc_auxil_t auxil, pcc_lr_table_t *table, int index, pcc_rule_t rule, pcc_lr_answer_t *answer) {
    if (index >= table->len) pcc_lr_table__resize(auxil, table, index + 1);
    if (table->buf[index] == NULL) table->buf[index] = pcc_lr_table_entry__create(auxil);
    pcc_lr_memo_map__put(auxil, &table->buf[index]->memos, rule, answer);
}

static void pcc_lr_table__hold_answer(pcc_auxil_t auxil, pcc_lr_table_t *table, int index, pcc_lr_answer_t *answer) {
    if (index >= table->len) pcc_lr_table__resize(auxil, table, index + 1);
    if (table->buf[index] == NULL) table->buf[index] = pcc_lr_table_entry__create(auxil);
    answer->hold = table->buf[index]->hold_a;
    table->buf[index]->hold_a = answer;
}

static pcc_lr_head_t *pcc_lr_table__get_head(pcc_auxil_t auxil, pcc_lr_table_t *table, int index) {
    if (index >= table->len || table->buf[index] == NULL) return NULL;
    return table->buf[index]->head;
}

static pcc_lr_answer_t *pcc_lr_table__get_answer(pcc_auxil_t auxil, pcc_lr_table_t *table, int index, pcc_rule_t rule) {
    if (index >= table->len || table->buf[index] == NULL) return NULL;
    return pcc_lr_memo_map__get(auxil, &table->buf[index]->memos, rule);
}

static void pcc_lr_table__shift(pcc_auxil_t auxil, pcc_lr_table_t *table, int count) {
    int i;
    if (count > table->len) count = table->len;
    for (i = 0; i < count; i++) pcc_lr_table_entry__destroy(auxil, table->buf[i]);
    memmove(table->buf, table->buf + count, (table->len - count) * sizeof(pcc_lr_table_entry_t *));
    table->len -= count;
}

static void pcc_lr_table__term(pcc_auxil_t auxil, pcc_lr_table_t *table) {
    int i;
    for (i = table->len - 1; i >= 0; i--) pcc_lr_table_entry__destroy(auxil, table->buf[i]);
    PCC_FREE(auxil, table->buf);
}

static pcc_lr_entry_t *pcc_lr_entry__create(pcc_auxil_t auxil, pcc_rule_t rule) {
    pcc_lr_entry_t *lr = (pcc_lr_entry_t *)PCC_MALLOC(auxil, sizeof(pcc_lr_entry_t));
    lr->rule = rule;
    lr->seed = NULL;
    lr->head = NULL;
    return lr;
}

static void pcc_lr_entry__destroy(pcc_auxil_t auxil, pcc_lr_entry_t *lr) {
    PCC_FREE(auxil, lr);
}

static void pcc_lr_stack__init(pcc_auxil_t auxil, pcc_lr_stack_t *stack, int max) {
    stack->len = 0;
    stack->max = max;
    stack->buf = (pcc_lr_entry_t **)PCC_MALLOC(auxil, stack->max * sizeof(pcc_lr_entry_t *));
}

static void pcc_lr_stack__push(pcc_auxil_t auxil, pcc_lr_stack_t *stack, pcc_lr_entry_t *lr) {
    if (stack->max <= 0) stack->max = 1;
    while (stack->max <= stack->len) stack->max <<= 1;
    stack->buf = (pcc_lr_entry_t **)PCC_REALLOC(auxil, stack->buf, stack->max * sizeof(pcc_lr_entry_t *));
    stack->buf[stack->len++] = lr;
}

static pcc_lr_entry_t *pcc_lr_stack__pop(pcc_auxil_t auxil, pcc_lr_stack_t *stack) {
    return stack->buf[--stack->len];
}

static void pcc_lr_stack__term(pcc_auxil_t auxil, pcc_lr_stack_t *stack) {
    PCC_FREE(auxil, stack->buf);
}

static lc_context_t *pcc_context__create(pcc_auxil_t auxil) {
    lc_context_t *ctx = (lc_context_t *)PCC_MALLOC(auxil, sizeof(lc_context_t));
    ctx->pos = 0;
    pcc_char_array__init(auxil, &ctx->buffer, PCC_BUFFERSIZE);
    pcc_lr_table__init(auxil, &ctx->lrtable, PCC_BUFFERSIZE);
    pcc_lr_stack__init(auxil, &ctx->lrstack, PCC_ARRAYSIZE);
    ctx->auxil = auxil;
    return ctx;
}

static void pcc_context__destroy(lc_context_t *ctx) {
    if (ctx == NULL) return;
    pcc_lr_stack__term(ctx->auxil, &ctx->lrstack);
    pcc_lr_table__term(ctx->auxil, &ctx->lrtable);
    pcc_char_array__term(ctx->auxil, &ctx->buffer);
    PCC_FREE(ctx->auxil, ctx);
}

static int pcc_refill_buffer(lc_context_t *ctx, int num) {
    int n, c;
    n = ctx->buffer.len - ctx->pos;
    if (n >= num) return n;
    while (ctx->buffer.len < ctx->pos + num) {
        c = PCC_GETCHAR(ctx->auxil);
        if (c == EOF) break;
        pcc_char_array__add(ctx->auxil, &ctx->buffer, (char)c);
    }
    return ctx->buffer.len - ctx->pos;
}

static void pcc_commit_buffer(lc_context_t *ctx) {
    memmove(ctx->buffer.buf, ctx->buffer.buf + ctx->pos, ctx->buffer.len - ctx->pos);
    ctx->buffer.len -= ctx->pos;
    pcc_lr_table__shift(ctx->auxil, &ctx->lrtable, ctx->pos);
    ctx->pos = 0;
}

static const char *pcc_get_capture_string(lc_context_t *ctx, const pcc_capture_t *capt) {
    if (capt->string == NULL)
        ((pcc_capture_t *)capt)->string =
            pcc_strndup_e(ctx->auxil, ctx->buffer.buf + capt->range.start, capt->range.end - capt->range.start);
    return capt->string;
}

static pcc_bool_t pcc_apply_rule(lc_context_t *ctx, pcc_rule_t rule, pcc_thunk_array_t *thunks, pcc_value_t *value) {
    static pcc_value_t null;
    pcc_thunk_chunk_t *c = NULL;
    int p = ctx->pos;
    pcc_bool_t b = PCC_TRUE;
    pcc_lr_answer_t *a = pcc_lr_table__get_answer(ctx->auxil, &ctx->lrtable, p, rule);
    pcc_lr_head_t *h = pcc_lr_table__get_head(ctx->auxil, &ctx->lrtable, p);
    if (h != NULL) {
        if (a == NULL && rule != h->rule && pcc_rule_set__index(ctx->auxil, &h->invol, rule) < 0) {
            b = PCC_FALSE;
            c = NULL;
        }
        else if (pcc_rule_set__remove(ctx->auxil, &h->eval, rule)) {
            b = PCC_FALSE;
            c = rule(ctx);
            a = pcc_lr_answer__create(ctx->auxil, PCC_LR_ANSWER_CHUNK, ctx->pos);
            a->data.chunk = c;
            pcc_lr_table__hold_answer(ctx->auxil, &ctx->lrtable, p, a);
        }
    }
    if (b) {
        if (a != NULL) {
            ctx->pos = a->pos;
            switch (a->type) {
            case PCC_LR_ANSWER_LR:
                if (a->data.lr->head == NULL) {
                    a->data.lr->head = pcc_lr_head__create(ctx->auxil, rule);
                    pcc_lr_table__hold_head(ctx->auxil, &ctx->lrtable, p, a->data.lr->head);
                }
                {
                    int i;
                    for (i = ctx->lrstack.len - 1; i >= 0; i--) {
                        if (ctx->lrstack.buf[i]->head == a->data.lr->head) break;
                        ctx->lrstack.buf[i]->head = a->data.lr->head;
                        pcc_rule_set__add(ctx->auxil, &a->data.lr->head->invol, ctx->lrstack.buf[i]->rule);
                    }
                }
                c = a->data.lr->seed;
                break;
            case PCC_LR_ANSWER_CHUNK:
                c = a->data.chunk;
                break;
            default: /* unknown */
                break;
            }
        }
        else {
            pcc_lr_entry_t *e = pcc_lr_entry__create(ctx->auxil, rule);
            pcc_lr_stack__push(ctx->auxil, &ctx->lrstack, e);
            a = pcc_lr_answer__create(ctx->auxil, PCC_LR_ANSWER_LR, p);
            a->data.lr = e;
            pcc_lr_table__set_answer(ctx->auxil, &ctx->lrtable, p, rule, a);
            c = rule(ctx);
            pcc_lr_stack__pop(ctx->auxil, &ctx->lrstack);
            a->pos = ctx->pos;
            if (e->head == NULL) {
                pcc_lr_answer__set_chunk(ctx->auxil, a, c);
            }
            else {
                e->seed = c;
                h = a->data.lr->head;
                if (h->rule != rule) {
                    c = a->data.lr->seed;
                    a = pcc_lr_answer__create(ctx->auxil, PCC_LR_ANSWER_CHUNK, ctx->pos);
                    a->data.chunk = c;
                    pcc_lr_table__hold_answer(ctx->auxil, &ctx->lrtable, p, a);
                }
                else {
                    pcc_lr_answer__set_chunk(ctx->auxil, a, a->data.lr->seed);
                    if (a->data.chunk == NULL) {
                        c = NULL;
                    }
                    else {
                        pcc_lr_table__set_head(ctx->auxil, &ctx->lrtable, p, h);
                        for (;;) {
                            ctx->pos = p;
                            pcc_rule_set__copy(ctx->auxil, &h->eval, &h->invol);
                            c = rule(ctx);
                            if (c == NULL || ctx->pos <= a->pos) break;
                            pcc_lr_answer__set_chunk(ctx->auxil, a, c);
                            a->pos = ctx->pos;
                        }
                        pcc_thunk_chunk__destroy(ctx->auxil, c);
                        pcc_lr_table__set_head(ctx->auxil, &ctx->lrtable, p, NULL);
                        ctx->pos = a->pos;
                        c = a->data.chunk;
                    }
                }
            }
        }
    }
    if (c == NULL) return PCC_FALSE;
    if (value == NULL) value = &null;
    memset(value, 0, sizeof(pcc_value_t)); /* in case */
    pcc_thunk_array__add(ctx->auxil, thunks, pcc_thunk__create_node(ctx->auxil, &c->thunks, value));
    return PCC_TRUE;
}

static void pcc_do_action(lc_context_t *ctx, const pcc_thunk_array_t *thunks, pcc_value_t *value) {
    int i;
    for (i = 0; i < thunks->len; i++) {
        pcc_thunk_t *thunk = thunks->buf[i];
        switch (thunk->type) {
        case PCC_THUNK_LEAF:
            thunk->data.leaf.action(ctx, thunk, value);
            break;
        case PCC_THUNK_NODE:
            pcc_do_action(ctx, thunk->data.node.thunks, thunk->data.node.value);
            break;
        default: /* unknown */
            break;
        }
    }
}

static void pcc_action_stats_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_stats_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_stats_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef __
#undef auxil
}

static void pcc_action_stats_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_stats_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_stats_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_stat_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_stat_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_stat_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_block_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_block_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_block_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef __
#undef auxil
}

static void pcc_action_block_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_block_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_block_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_block_2(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_block_2") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_block_2` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action__block_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action__block_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action__block_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef __
#undef auxil
}

static void pcc_action__block_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action__block_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action__block_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action__block_2(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action__block_2") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action__block_2` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_if_then_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define cond (*__pcc_in->data.leaf.values.buf[0])
#define th (*__pcc_in->data.leaf.values.buf[1])
#define el (*__pcc_in->data.leaf.values.buf[2])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_if_then_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "cond"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "th"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[2]));
lua_setfield(L, -2, "el"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_if_then_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef el
#undef th
#undef cond
#undef __
#undef auxil
}

static void pcc_action_for_loop_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_for_loop_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_for_loop_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef __
#undef auxil
}

static void pcc_action_for_loop_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define loop_vars (*__pcc_in->data.leaf.values.buf[0])
#define iter (*__pcc_in->data.leaf.values.buf[1])
#define body (*__pcc_in->data.leaf.values.buf[2])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_for_loop_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "loop_vars"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "iter"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[2]));
lua_setfield(L, -2, "body"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_for_loop_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef body
#undef iter
#undef loop_vars
#undef __
#undef auxil
}

static void pcc_action_while_loop_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define while_cond (*__pcc_in->data.leaf.values.buf[0])
#define body (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_while_loop_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "while_cond"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "body"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_while_loop_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef body
#undef while_cond
#undef __
#undef auxil
}

static void pcc_action_repeat_loop_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define body (*__pcc_in->data.leaf.values.buf[0])
#define until_cond (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_repeat_loop_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "body"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "until_cond"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_repeat_loop_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef until_cond
#undef body
#undef __
#undef auxil
}

static void pcc_action_assign_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define var (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_assign_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "var"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_assign_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef var
#undef __
#undef auxil
}

static void pcc_action_assign_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define var (*__pcc_in->data.leaf.values.buf[0])
#define value (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_assign_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "var"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "value"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_assign_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef value
#undef var
#undef __
#undef auxil
}

static void pcc_action_define_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_define_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_define_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_define_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _1 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0])
#define _1s __pcc_in->data.leaf.capts.buf[0]->range.start
#define _1e __pcc_in->data.leaf.capts.buf[0]->range.end
if( lua_getglobal(L, "pcc_action_define_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0]));
lua_setfield(L, -2, "_1"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.start);
lua_setfield(L, -2, "_1s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.end);
lua_setfield(L, -2, "_1e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_define_1` is not a function\n");
 }

#undef _1e
#undef _1s
#undef _1
#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_define_2(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define fv (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _1 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0])
#define _1s __pcc_in->data.leaf.capts.buf[0]->range.start
#define _1e __pcc_in->data.leaf.capts.buf[0]->range.end
if( lua_getglobal(L, "pcc_action_define_2") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0]));
lua_setfield(L, -2, "_1"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.start);
lua_setfield(L, -2, "_1s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.end);
lua_setfield(L, -2, "_1e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "fv"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_define_2` is not a function\n");
 }

#undef _1e
#undef _1s
#undef _1
#undef _0e
#undef _0s
#undef _0
#undef fv
#undef e
#undef __
#undef auxil
}

static void pcc_action_define_3(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define fv (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _1 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0])
#define _1s __pcc_in->data.leaf.capts.buf[0]->range.start
#define _1e __pcc_in->data.leaf.capts.buf[0]->range.end
#define _2 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[1])
#define _2s __pcc_in->data.leaf.capts.buf[1]->range.start
#define _2e __pcc_in->data.leaf.capts.buf[1]->range.end
if( lua_getglobal(L, "pcc_action_define_3") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0]));
lua_setfield(L, -2, "_1"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.start);
lua_setfield(L, -2, "_1s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.end);
lua_setfield(L, -2, "_1e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[1]));
lua_setfield(L, -2, "_2"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[1]->range.start);
lua_setfield(L, -2, "_2s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[1]->range.end);
lua_setfield(L, -2, "_2e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "fv"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_define_3` is not a function\n");
 }

#undef _2e
#undef _2s
#undef _2
#undef _1e
#undef _1s
#undef _1
#undef _0e
#undef _0s
#undef _0
#undef fv
#undef e
#undef __
#undef auxil
}

static void pcc_action_define_4(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define fv (*__pcc_in->data.leaf.values.buf[1])
#define nv (*__pcc_in->data.leaf.values.buf[2])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _1 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0])
#define _1s __pcc_in->data.leaf.capts.buf[0]->range.start
#define _1e __pcc_in->data.leaf.capts.buf[0]->range.end
#define _2 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[1])
#define _2s __pcc_in->data.leaf.capts.buf[1]->range.start
#define _2e __pcc_in->data.leaf.capts.buf[1]->range.end
if( lua_getglobal(L, "pcc_action_define_4") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0]));
lua_setfield(L, -2, "_1"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.start);
lua_setfield(L, -2, "_1s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.end);
lua_setfield(L, -2, "_1e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[1]));
lua_setfield(L, -2, "_2"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[1]->range.start);
lua_setfield(L, -2, "_2s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[1]->range.end);
lua_setfield(L, -2, "_2e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "fv"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[2]));
lua_setfield(L, -2, "nv"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_define_4` is not a function\n");
 }

#undef _2e
#undef _2s
#undef _2
#undef _1e
#undef _1s
#undef _1
#undef _0e
#undef _0s
#undef _0
#undef nv
#undef fv
#undef e
#undef __
#undef auxil
}

static void pcc_action_define_func_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define rt (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _1 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0])
#define _1s __pcc_in->data.leaf.capts.buf[0]->range.start
#define _1e __pcc_in->data.leaf.capts.buf[0]->range.end
if( lua_getglobal(L, "pcc_action_define_func_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0]));
lua_setfield(L, -2, "_1"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.start);
lua_setfield(L, -2, "_1s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.end);
lua_setfield(L, -2, "_1e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "rt"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_define_func_0` is not a function\n");
 }

#undef _1e
#undef _1s
#undef _1
#undef _0e
#undef _0s
#undef _0
#undef rt
#undef __
#undef auxil
}

static void pcc_action_define_func_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define rt (*__pcc_in->data.leaf.values.buf[0])
#define fn_args (*__pcc_in->data.leaf.values.buf[1])
#define body (*__pcc_in->data.leaf.values.buf[2])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _1 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0])
#define _1s __pcc_in->data.leaf.capts.buf[0]->range.start
#define _1e __pcc_in->data.leaf.capts.buf[0]->range.end
if( lua_getglobal(L, "pcc_action_define_func_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0]));
lua_setfield(L, -2, "_1"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.start);
lua_setfield(L, -2, "_1s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.end);
lua_setfield(L, -2, "_1e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "rt"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "fn_args"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[2]));
lua_setfield(L, -2, "body"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_define_func_1` is not a function\n");
 }

#undef _1e
#undef _1s
#undef _1
#undef _0e
#undef _0s
#undef _0
#undef body
#undef fn_args
#undef rt
#undef __
#undef auxil
}

static void pcc_action_define_func_2(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _2 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[1])
#define _2s __pcc_in->data.leaf.capts.buf[1]->range.start
#define _2e __pcc_in->data.leaf.capts.buf[1]->range.end
if( lua_getglobal(L, "pcc_action_define_func_2") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[1]));
lua_setfield(L, -2, "_2"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[1]->range.start);
lua_setfield(L, -2, "_2s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[1]->range.end);
lua_setfield(L, -2, "_2e"); 
lua_newtable(L);
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_define_func_2` is not a function\n");
 }

#undef _2e
#undef _2s
#undef _2
#undef _0e
#undef _0s
#undef _0
#undef __
#undef auxil
}

static void pcc_action_define_func_3(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define fn_args (*__pcc_in->data.leaf.values.buf[1])
#define body (*__pcc_in->data.leaf.values.buf[2])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _2 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[1])
#define _2s __pcc_in->data.leaf.capts.buf[1]->range.start
#define _2e __pcc_in->data.leaf.capts.buf[1]->range.end
if( lua_getglobal(L, "pcc_action_define_func_3") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[1]));
lua_setfield(L, -2, "_2"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[1]->range.start);
lua_setfield(L, -2, "_2s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[1]->range.end);
lua_setfield(L, -2, "_2e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "fn_args"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[2]));
lua_setfield(L, -2, "body"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_define_func_3` is not a function\n");
 }

#undef _2e
#undef _2s
#undef _2
#undef _0e
#undef _0s
#undef _0
#undef body
#undef fn_args
#undef __
#undef auxil
}

static void pcc_action_define_args_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define f (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_define_args_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "f"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_define_args_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef f
#undef __
#undef auxil
}

static void pcc_action_define_args_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define f (*__pcc_in->data.leaf.values.buf[0])
#define n (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_define_args_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "f"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "n"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_define_args_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef n
#undef f
#undef __
#undef auxil
}

static void pcc_action_define_arg_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define t (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _1 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0])
#define _1s __pcc_in->data.leaf.capts.buf[0]->range.start
#define _1e __pcc_in->data.leaf.capts.buf[0]->range.end
if( lua_getglobal(L, "pcc_action_define_arg_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0]));
lua_setfield(L, -2, "_1"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.start);
lua_setfield(L, -2, "_1s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.end);
lua_setfield(L, -2, "_1e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "t"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_define_arg_0` is not a function\n");
 }

#undef _1e
#undef _1s
#undef _1
#undef _0e
#undef _0s
#undef _0
#undef t
#undef __
#undef auxil
}

static void pcc_action_ret_stat_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_ret_stat_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_ret_stat_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef __
#undef auxil
}

static void pcc_action_ret_stat_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define first (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_ret_stat_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "first"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_ret_stat_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef first
#undef __
#undef auxil
}

static void pcc_action_ret_stat_2(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define first (*__pcc_in->data.leaf.values.buf[0])
#define next (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_ret_stat_2") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "first"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "next"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_ret_stat_2` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef next
#undef first
#undef __
#undef auxil
}

static void pcc_action_break_cmd_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_break_cmd_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_break_cmd_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef __
#undef auxil
}

static void pcc_action_continue_cmd_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_continue_cmd_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_continue_cmd_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef __
#undef auxil
}

static void pcc_action_expression_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define ee (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_expression_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "ee"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_expression_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef ee
#undef __
#undef auxil
}

static void pcc_action_expression_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_expression_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_expression_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_logic_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define larg (*__pcc_in->data.leaf.values.buf[0])
#define rarg (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _1 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0])
#define _1s __pcc_in->data.leaf.capts.buf[0]->range.start
#define _1e __pcc_in->data.leaf.capts.buf[0]->range.end
if( lua_getglobal(L, "pcc_action_logic_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0]));
lua_setfield(L, -2, "_1"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.start);
lua_setfield(L, -2, "_1s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.end);
lua_setfield(L, -2, "_1e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "larg"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "rarg"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_logic_0` is not a function\n");
 }

#undef _1e
#undef _1s
#undef _1
#undef _0e
#undef _0s
#undef _0
#undef rarg
#undef larg
#undef __
#undef auxil
}

static void pcc_action_logic_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[2])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_logic_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[2]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_logic_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_bitwise_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define larg (*__pcc_in->data.leaf.values.buf[0])
#define rarg (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _1 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0])
#define _1s __pcc_in->data.leaf.capts.buf[0]->range.start
#define _1e __pcc_in->data.leaf.capts.buf[0]->range.end
if( lua_getglobal(L, "pcc_action_bitwise_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0]));
lua_setfield(L, -2, "_1"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.start);
lua_setfield(L, -2, "_1s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.end);
lua_setfield(L, -2, "_1e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "larg"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "rarg"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_bitwise_0` is not a function\n");
 }

#undef _1e
#undef _1s
#undef _1
#undef _0e
#undef _0s
#undef _0
#undef rarg
#undef larg
#undef __
#undef auxil
}

static void pcc_action_bitwise_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[2])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_bitwise_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[2]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_bitwise_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_compare_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define larg (*__pcc_in->data.leaf.values.buf[0])
#define rarg (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _1 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0])
#define _1s __pcc_in->data.leaf.capts.buf[0]->range.start
#define _1e __pcc_in->data.leaf.capts.buf[0]->range.end
if( lua_getglobal(L, "pcc_action_compare_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0]));
lua_setfield(L, -2, "_1"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.start);
lua_setfield(L, -2, "_1s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.end);
lua_setfield(L, -2, "_1e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "larg"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "rarg"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_compare_0` is not a function\n");
 }

#undef _1e
#undef _1s
#undef _1
#undef _0e
#undef _0s
#undef _0
#undef rarg
#undef larg
#undef __
#undef auxil
}

static void pcc_action_compare_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[2])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_compare_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[2]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_compare_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_term_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define l (*__pcc_in->data.leaf.values.buf[0])
#define r (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _1 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0])
#define _1s __pcc_in->data.leaf.capts.buf[0]->range.start
#define _1e __pcc_in->data.leaf.capts.buf[0]->range.end
if( lua_getglobal(L, "pcc_action_term_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0]));
lua_setfield(L, -2, "_1"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.start);
lua_setfield(L, -2, "_1s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.end);
lua_setfield(L, -2, "_1e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "l"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "r"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_term_0` is not a function\n");
 }

#undef _1e
#undef _1s
#undef _1
#undef _0e
#undef _0s
#undef _0
#undef r
#undef l
#undef __
#undef auxil
}

static void pcc_action_term_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[2])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_term_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[2]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_term_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_factor_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define larg (*__pcc_in->data.leaf.values.buf[0])
#define rarg (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _1 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0])
#define _1s __pcc_in->data.leaf.capts.buf[0]->range.start
#define _1e __pcc_in->data.leaf.capts.buf[0]->range.end
if( lua_getglobal(L, "pcc_action_factor_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0]));
lua_setfield(L, -2, "_1"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.start);
lua_setfield(L, -2, "_1s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.end);
lua_setfield(L, -2, "_1e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "larg"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "rarg"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_factor_0` is not a function\n");
 }

#undef _1e
#undef _1s
#undef _1
#undef _0e
#undef _0s
#undef _0
#undef rarg
#undef larg
#undef __
#undef auxil
}

static void pcc_action_factor_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[2])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_factor_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[2]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_factor_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_unop_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define Uarg (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _1 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0])
#define _1s __pcc_in->data.leaf.capts.buf[0]->range.start
#define _1e __pcc_in->data.leaf.capts.buf[0]->range.end
if( lua_getglobal(L, "pcc_action_unop_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0]));
lua_setfield(L, -2, "_1"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.start);
lua_setfield(L, -2, "_1s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.end);
lua_setfield(L, -2, "_1e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "Uarg"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_unop_0` is not a function\n");
 }

#undef _1e
#undef _1s
#undef _1
#undef _0e
#undef _0s
#undef _0
#undef Uarg
#undef __
#undef auxil
}

static void pcc_action_unop_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_unop_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_unop_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_unop_stat_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define Uarg (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _1 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0])
#define _1s __pcc_in->data.leaf.capts.buf[0]->range.start
#define _1e __pcc_in->data.leaf.capts.buf[0]->range.end
if( lua_getglobal(L, "pcc_action_unop_stat_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0]));
lua_setfield(L, -2, "_1"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.start);
lua_setfield(L, -2, "_1s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.end);
lua_setfield(L, -2, "_1e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "Uarg"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_unop_stat_0` is not a function\n");
 }

#undef _1e
#undef _1s
#undef _1
#undef _0e
#undef _0s
#undef _0
#undef Uarg
#undef __
#undef auxil
}

static void pcc_action_primary_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_primary_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_primary_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef __
#undef auxil
}

static void pcc_action_primary_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _1 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0])
#define _1s __pcc_in->data.leaf.capts.buf[0]->range.start
#define _1e __pcc_in->data.leaf.capts.buf[0]->range.end
if( lua_getglobal(L, "pcc_action_primary_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0]));
lua_setfield(L, -2, "_1"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.start);
lua_setfield(L, -2, "_1s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.end);
lua_setfield(L, -2, "_1e"); 
lua_newtable(L);
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_primary_1` is not a function\n");
 }

#undef _1e
#undef _1s
#undef _1
#undef _0e
#undef _0s
#undef _0
#undef __
#undef auxil
}

static void pcc_action_primary_2(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_primary_2") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_primary_2` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef __
#undef auxil
}

static void pcc_action_primary_3(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_primary_3") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_primary_3` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef __
#undef auxil
}

static void pcc_action_primary_4(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _2 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[1])
#define _2s __pcc_in->data.leaf.capts.buf[1]->range.start
#define _2e __pcc_in->data.leaf.capts.buf[1]->range.end
if( lua_getglobal(L, "pcc_action_primary_4") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[1]));
lua_setfield(L, -2, "_2"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[1]->range.start);
lua_setfield(L, -2, "_2s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[1]->range.end);
lua_setfield(L, -2, "_2e"); 
lua_newtable(L);
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_primary_4` is not a function\n");
 }

#undef _2e
#undef _2s
#undef _2
#undef _0e
#undef _0s
#undef _0
#undef __
#undef auxil
}

static void pcc_action_primary_5(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_primary_5") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_primary_5` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_primary_6(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_primary_6") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_primary_6` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_primary_7(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_primary_7") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_primary_7` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_call_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define fn (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_call_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "fn"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_call_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef fn
#undef __
#undef auxil
}

static void pcc_action_call_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define fn (*__pcc_in->data.leaf.values.buf[0])
#define first (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_call_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "fn"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "first"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_call_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef first
#undef fn
#undef __
#undef auxil
}

static void pcc_action_call_2(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define fn (*__pcc_in->data.leaf.values.buf[0])
#define first (*__pcc_in->data.leaf.values.buf[1])
#define next (*__pcc_in->data.leaf.values.buf[2])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_call_2") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "fn"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "first"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[2]));
lua_setfield(L, -2, "next"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_call_2` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef next
#undef first
#undef fn
#undef __
#undef auxil
}

static void pcc_action__lvalue_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define obj (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _1 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0])
#define _1s __pcc_in->data.leaf.capts.buf[0]->range.start
#define _1e __pcc_in->data.leaf.capts.buf[0]->range.end
if( lua_getglobal(L, "pcc_action__lvalue_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0]));
lua_setfield(L, -2, "_1"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.start);
lua_setfield(L, -2, "_1s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.end);
lua_setfield(L, -2, "_1e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "obj"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action__lvalue_0` is not a function\n");
 }

#undef _1e
#undef _1s
#undef _1
#undef _0e
#undef _0s
#undef _0
#undef obj
#undef __
#undef auxil
}

static void pcc_action__lvalue_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define obj (*__pcc_in->data.leaf.values.buf[0])
#define e (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action__lvalue_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "obj"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action__lvalue_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef obj
#undef __
#undef auxil
}

static void pcc_action__lvalue_2(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action__lvalue_2") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action__lvalue_2` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef __
#undef auxil
}

static void pcc_action__lvalue_3(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define obj (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action__lvalue_3") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "obj"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action__lvalue_3` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef obj
#undef __
#undef auxil
}

static void pcc_action_lvalue_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define obj (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
#define _1 pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0])
#define _1s __pcc_in->data.leaf.capts.buf[0]->range.start
#define _1e __pcc_in->data.leaf.capts.buf[0]->range.end
if( lua_getglobal(L, "pcc_action_lvalue_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, __pcc_in->data.leaf.capts.buf[0]));
lua_setfield(L, -2, "_1"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.start);
lua_setfield(L, -2, "_1s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capts.buf[0]->range.end);
lua_setfield(L, -2, "_1e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "obj"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_lvalue_0` is not a function\n");
 }

#undef _1e
#undef _1s
#undef _1
#undef _0e
#undef _0s
#undef _0
#undef obj
#undef __
#undef auxil
}

static void pcc_action_lvalue_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define obj (*__pcc_in->data.leaf.values.buf[0])
#define e (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_lvalue_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "obj"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_lvalue_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef obj
#undef __
#undef auxil
}

static void pcc_action_lvalue_2(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_lvalue_2") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_lvalue_2` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef __
#undef auxil
}

static void pcc_action_lvalue_3(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define obj (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_lvalue_3") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "obj"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_lvalue_3` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef obj
#undef __
#undef auxil
}

static void pcc_action_type_expr_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_type_expr_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_type_expr_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_type_expr_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_type_expr_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_type_expr_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_type_expr_2(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define dim (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_type_expr_2") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "dim"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_type_expr_2` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef dim
#undef e
#undef __
#undef auxil
}

static void pcc_action_type_expr_3(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_type_expr_3") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_type_expr_3` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_type_primary_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_type_primary_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_type_primary_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_type_primary_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_type_primary_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_type_primary_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_base_type_expr_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_base_type_expr_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_base_type_expr_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_base_type_expr_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_base_type_expr_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_base_type_expr_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef __
#undef auxil
}

static void pcc_action_base_type_expr_2(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define e (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_base_type_expr_2") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "e"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_base_type_expr_2` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef e
#undef __
#undef auxil
}

static void pcc_action_type_func_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define rt (*__pcc_in->data.leaf.values.buf[0])
#define fn_args (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_type_func_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "rt"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "fn_args"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_type_func_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef fn_args
#undef rt
#undef __
#undef auxil
}

static void pcc_action_type_func_args_0(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define f (*__pcc_in->data.leaf.values.buf[0])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_type_func_args_0") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "f"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_type_func_args_0` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef f
#undef __
#undef auxil
}

static void pcc_action_type_func_args_1(lc_context_t *__pcc_ctx, pcc_thunk_t *__pcc_in, pcc_value_t *__pcc_out) {
lua_State *L = (__pcc_ctx->auxil->L);
lua_newtable(L);
#define __ (*__pcc_out)
#define f (*__pcc_in->data.leaf.values.buf[0])
#define n (*__pcc_in->data.leaf.values.buf[1])
#define _0 pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0)
#define _0s ((const)__pcc_in->data.leaf.capt0.range.start)
#define _0e ((const)__pcc_in->data.leaf.capt0.range.end)
if( lua_getglobal(L, "pcc_action_type_func_args_1") == LUA_TFUNCTION ){
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_out));
createCmptObject(L, __pcc_ctx->auxil);
lua_newtable(L);
lua_pushstring(L, pcc_get_capture_string(__pcc_ctx, &__pcc_in->data.leaf.capt0));
lua_setfield(L, -2, "_0"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.start);
lua_setfield(L, -2, "_0s"); 
lua_pushinteger(L, __pcc_in->data.leaf.capt0.range.end);
lua_setfield(L, -2, "_0e"); 
lua_newtable(L);
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[0]));
lua_setfield(L, -2, "f"); 
lua_rawgeti(L, LUA_REGISTRYINDEX, (*__pcc_in->data.leaf.values.buf[1]));
lua_setfield(L, -2, "n"); 
lua_call(L, 4, 1);    
 if(!lua_isnoneornil(L, -1)) (*__pcc_out) = luaL_ref(L, LUA_REGISTRYINDEX);
}else{
printf("`pcc_action_type_func_args_1` is not a function\n");
 }

#undef _0e
#undef _0s
#undef _0
#undef n
#undef f
#undef __
#undef auxil
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_stats(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_stat(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_block(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule__block(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_if_then(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_for_loop(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_while_loop(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_repeat_loop(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_assign(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_define(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_define_func(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_define_args(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_define_arg(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_ret_stat(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_break_cmd(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_continue_cmd(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_expression(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_logic(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_bitwise(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_compare(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_term(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_factor(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_unop(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_unop_stat(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_primary(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_string(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_ident(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_call(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule__lvalue(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_lvalue(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_type_expr(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_type_primary(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_base_type_expr(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_type_func(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule_type_func_args(lc_context_t *ctx);
static pcc_thunk_chunk_t *pcc_evaluate_rule__(lc_context_t *ctx);

static pcc_thunk_chunk_t *pcc_evaluate_rule_stats(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 1);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_stats_0, 1, 0);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    {
        int p = ctx->pos;
        int i;
        for (i = 0;; i++) {
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule_stat, &chunk->thunks, &(chunk->values.buf[0]))) goto L0001;
            {
                pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_stats_1, 1, 0);
                thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
                thunk->data.leaf.capt0.range.start = chunk->pos;
                thunk->data.leaf.capt0.range.end = ctx->pos;
                pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
            }
        }
    L0001:;
        if (i < 1) {
            ctx->pos = p;
            goto L0000;
        }
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_stat(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 1);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    {
        int p = ctx->pos;
        int n = chunk->thunks.len;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_while_loop, &chunk->thunks, &(chunk->values.buf[0]))) goto L0002;
        goto L0001;
    L0002:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_repeat_loop, &chunk->thunks, &(chunk->values.buf[0]))) goto L0003;
        goto L0001;
    L0003:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_for_loop, &chunk->thunks, &(chunk->values.buf[0]))) goto L0004;
        goto L0001;
    L0004:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_continue_cmd, &chunk->thunks, &(chunk->values.buf[0]))) goto L0005;
        goto L0001;
    L0005:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_break_cmd, &chunk->thunks, &(chunk->values.buf[0]))) goto L0006;
        goto L0001;
    L0006:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_ret_stat, &chunk->thunks, &(chunk->values.buf[0]))) goto L0007;
        goto L0001;
    L0007:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_define_func, &chunk->thunks, &(chunk->values.buf[0]))) goto L0008;
        goto L0001;
    L0008:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_if_then, &chunk->thunks, &(chunk->values.buf[0]))) goto L0009;
        goto L0001;
    L0009:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_block, &chunk->thunks, &(chunk->values.buf[0]))) goto L0010;
        goto L0001;
    L0010:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_assign, &chunk->thunks, &(chunk->values.buf[0]))) goto L0011;
        goto L0001;
    L0011:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_unop_stat, &chunk->thunks, &(chunk->values.buf[0]))) goto L0012;
        goto L0001;
    L0012:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_define, &chunk->thunks, &(chunk->values.buf[0]))) goto L0013;
        goto L0001;
    L0013:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_call, &chunk->thunks, &(chunk->values.buf[0]))) goto L0014;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0014;
        goto L0001;
    L0014:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        goto L0000;
    L0001:;
    }
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_stat_0, 1, 0);
        thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_block(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 1);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    {
        const char *s = ctx->buffer.buf + ctx->pos;
        if (
            pcc_refill_buffer(ctx, 2) < 2 ||
            s[0] != 'd' ||
            s[1] != 'o'
        ) goto L0000;
        ctx->pos += 2;
    }
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_block_0, 1, 0);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        int p = ctx->pos;
        int i;
        for (i = 0;; i++) {
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule_stat, &chunk->thunks, &(chunk->values.buf[0]))) goto L0001;
            {
                pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_block_1, 1, 0);
                thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
                thunk->data.leaf.capt0.range.start = chunk->pos;
                thunk->data.leaf.capt0.range.end = ctx->pos;
                pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
            }
        }
    L0001:;
        if (i < 1) {
            ctx->pos = p;
            goto L0000;
        }
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        const char *s = ctx->buffer.buf + ctx->pos;
        if (
            pcc_refill_buffer(ctx, 3) < 3 ||
            s[0] != 'e' ||
            s[1] != 'n' ||
            s[2] != 'd'
        ) goto L0000;
        ctx->pos += 3;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_block_2, 1, 0);
        thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule__block(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 1);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action__block_0, 1, 0);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        int p = ctx->pos;
        int i;
        for (i = 0;; i++) {
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule_stat, &chunk->thunks, &(chunk->values.buf[0]))) goto L0001;
            {
                pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action__block_1, 1, 0);
                thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
                thunk->data.leaf.capt0.range.start = chunk->pos;
                thunk->data.leaf.capt0.range.end = ctx->pos;
                pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
            }
        }
    L0001:;
        if (i < 1) {
            ctx->pos = p;
            goto L0000;
        }
    }
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action__block_2, 1, 0);
        thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_if_then(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 3);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    {
        const char *s = ctx->buffer.buf + ctx->pos;
        if (
            pcc_refill_buffer(ctx, 2) < 2 ||
            s[0] != 'i' ||
            s[1] != 'f'
        ) goto L0000;
        ctx->pos += 2;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule_expression, &chunk->thunks, &(chunk->values.buf[0]))) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        const char *s = ctx->buffer.buf + ctx->pos;
        if (
            pcc_refill_buffer(ctx, 4) < 4 ||
            s[0] != 't' ||
            s[1] != 'h' ||
            s[2] != 'e' ||
            s[3] != 'n'
        ) goto L0000;
        ctx->pos += 4;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__block, &chunk->thunks, &(chunk->values.buf[1]))) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        const char *s = ctx->buffer.buf + ctx->pos;
        if (
            pcc_refill_buffer(ctx, 4) < 4 ||
            s[0] != 'e' ||
            s[1] != 'l' ||
            s[2] != 's' ||
            s[3] != 'e'
        ) goto L0001;
        ctx->pos += 4;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0001;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__block, &chunk->thunks, &(chunk->values.buf[2]))) goto L0001;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0001;
L0001:;
    {
        const char *s = ctx->buffer.buf + ctx->pos;
        if (
            pcc_refill_buffer(ctx, 3) < 3 ||
            s[0] != 'e' ||
            s[1] != 'n' ||
            s[2] != 'd'
        ) goto L0000;
        ctx->pos += 3;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_if_then_0, 3, 0);
        thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
        thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
        thunk->data.leaf.values.buf[2] = &(chunk->values.buf[2]);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_for_loop(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 3);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    {
        const char *s = ctx->buffer.buf + ctx->pos;
        if (
            pcc_refill_buffer(ctx, 3) < 3 ||
            s[0] != 'f' ||
            s[1] != 'o' ||
            s[2] != 'r'
        ) goto L0000;
        ctx->pos += 3;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_for_loop_0, 3, 0);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule_define_args, &chunk->thunks, &(chunk->values.buf[0]))) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        const char *s = ctx->buffer.buf + ctx->pos;
        if (
            pcc_refill_buffer(ctx, 2) < 2 ||
            s[0] != 'i' ||
            s[1] != 'n'
        ) goto L0000;
        ctx->pos += 2;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule_expression, &chunk->thunks, &(chunk->values.buf[1]))) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        const char *s = ctx->buffer.buf + ctx->pos;
        if (
            pcc_refill_buffer(ctx, 2) < 2 ||
            s[0] != 'd' ||
            s[1] != 'o'
        ) goto L0000;
        ctx->pos += 2;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__block, &chunk->thunks, &(chunk->values.buf[2]))) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        const char *s = ctx->buffer.buf + ctx->pos;
        if (
            pcc_refill_buffer(ctx, 3) < 3 ||
            s[0] != 'e' ||
            s[1] != 'n' ||
            s[2] != 'd'
        ) goto L0000;
        ctx->pos += 3;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_for_loop_1, 3, 0);
        thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
        thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
        thunk->data.leaf.values.buf[2] = &(chunk->values.buf[2]);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_while_loop(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 2);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    {
        const char *s = ctx->buffer.buf + ctx->pos;
        if (
            pcc_refill_buffer(ctx, 5) < 5 ||
            s[0] != 'w' ||
            s[1] != 'h' ||
            s[2] != 'i' ||
            s[3] != 'l' ||
            s[4] != 'e'
        ) goto L0000;
        ctx->pos += 5;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule_expression, &chunk->thunks, &(chunk->values.buf[0]))) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        const char *s = ctx->buffer.buf + ctx->pos;
        if (
            pcc_refill_buffer(ctx, 2) < 2 ||
            s[0] != 'd' ||
            s[1] != 'o'
        ) goto L0000;
        ctx->pos += 2;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__block, &chunk->thunks, &(chunk->values.buf[1]))) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        const char *s = ctx->buffer.buf + ctx->pos;
        if (
            pcc_refill_buffer(ctx, 3) < 3 ||
            s[0] != 'e' ||
            s[1] != 'n' ||
            s[2] != 'd'
        ) goto L0000;
        ctx->pos += 3;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_while_loop_0, 2, 0);
        thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
        thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_repeat_loop(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 2);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    {
        const char *s = ctx->buffer.buf + ctx->pos;
        if (
            pcc_refill_buffer(ctx, 6) < 6 ||
            s[0] != 'r' ||
            s[1] != 'e' ||
            s[2] != 'p' ||
            s[3] != 'e' ||
            s[4] != 'a' ||
            s[5] != 't'
        ) goto L0000;
        ctx->pos += 6;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__block, &chunk->thunks, &(chunk->values.buf[0]))) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        const char *s = ctx->buffer.buf + ctx->pos;
        if (
            pcc_refill_buffer(ctx, 5) < 5 ||
            s[0] != 'u' ||
            s[1] != 'n' ||
            s[2] != 't' ||
            s[3] != 'i' ||
            s[4] != 'l'
        ) goto L0000;
        ctx->pos += 5;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule_expression, &chunk->thunks, &(chunk->values.buf[1]))) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_repeat_loop_0, 2, 0);
        thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
        thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_assign(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 2);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__lvalue, &chunk->thunks, &(chunk->values.buf[0]))) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    if (
        pcc_refill_buffer(ctx, 1) < 1 ||
        ctx->buffer.buf[ctx->pos] != '='
    ) goto L0000;
    ctx->pos++;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_expression, &chunk->thunks, &(chunk->values.buf[1]))) goto L0001;
        goto L0002;
    L0001:;
        {
            pcc_value_t null;
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_assign_0, 2, 0);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            memset(&null, 0, sizeof(pcc_value_t)); /* in case */
            thunk->data.leaf.action(ctx, thunk, &null);
            pcc_thunk__destroy(ctx->auxil, thunk);
        }
        goto L0000;
    L0002:;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_assign_1, 2, 0);
        thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
        thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_define(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 3);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 2);
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule_type_expr, &chunk->thunks, &(chunk->values.buf[0]))) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    if (
        pcc_refill_buffer(ctx, 1) < 1 ||
        ctx->buffer.buf[ctx->pos] != ':'
    ) goto L0000;
    ctx->pos++;
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_define_0, 3, 2);
        thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        int p = ctx->pos, q;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_ident, &chunk->thunks, NULL)) goto L0000;
        q = ctx->pos;
        chunk->capts.buf[0].range.start = p;
        chunk->capts.buf[0].range.end = q;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    if (
        pcc_refill_buffer(ctx, 1) < 1 ||
        ctx->buffer.buf[ctx->pos] != '='
    ) goto L0001;
    ctx->pos++;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0001;
    {
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_expression, &chunk->thunks, &(chunk->values.buf[1]))) goto L0002;
        goto L0003;
    L0002:;
        {
            pcc_value_t null;
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_define_1, 3, 2);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.capts.buf[0] = &(chunk->capts.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            memset(&null, 0, sizeof(pcc_value_t)); /* in case */
            thunk->data.leaf.action(ctx, thunk, &null);
            pcc_thunk__destroy(ctx->auxil, thunk);
        }
        goto L0001;
    L0003:;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0001;
L0001:;
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_define_2, 3, 2);
        thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
        thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
        thunk->data.leaf.capts.buf[0] = &(chunk->capts.buf[0]);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    {
        int i;
        for (i = 0;; i++) {
            if (
                pcc_refill_buffer(ctx, 1) < 1 ||
                ctx->buffer.buf[ctx->pos] != ','
            ) goto L0004;
            ctx->pos++;
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0004;
            {
                int p = ctx->pos, q;
                if (!pcc_apply_rule(ctx, pcc_evaluate_rule_ident, &chunk->thunks, NULL)) goto L0004;
                q = ctx->pos;
                chunk->capts.buf[1].range.start = p;
                chunk->capts.buf[1].range.end = q;
            }
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0004;
            if (
                pcc_refill_buffer(ctx, 1) < 1 ||
                ctx->buffer.buf[ctx->pos] != '='
            ) goto L0005;
            ctx->pos++;
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0005;
            {
                if (!pcc_apply_rule(ctx, pcc_evaluate_rule_expression, &chunk->thunks, &(chunk->values.buf[2]))) goto L0006;
                goto L0007;
            L0006:;
                {
                    pcc_value_t null;
                    pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_define_3, 3, 2);
                    thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
                    thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
                    thunk->data.leaf.capts.buf[0] = &(chunk->capts.buf[0]);
                    thunk->data.leaf.capts.buf[1] = &(chunk->capts.buf[1]);
                    thunk->data.leaf.capt0.range.start = chunk->pos;
                    thunk->data.leaf.capt0.range.end = ctx->pos;
                    memset(&null, 0, sizeof(pcc_value_t)); /* in case */
                    thunk->data.leaf.action(ctx, thunk, &null);
                    pcc_thunk__destroy(ctx->auxil, thunk);
                }
                goto L0005;
            L0007:;
            }
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0005;
        L0005:;
            {
                pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_define_4, 3, 2);
                thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
                thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
                thunk->data.leaf.values.buf[2] = &(chunk->values.buf[2]);
                thunk->data.leaf.capts.buf[0] = &(chunk->capts.buf[0]);
                thunk->data.leaf.capts.buf[1] = &(chunk->capts.buf[1]);
                thunk->data.leaf.capt0.range.start = chunk->pos;
                thunk->data.leaf.capt0.range.end = ctx->pos;
                pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
            }
        }
    L0004:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_define_func(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 3);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 2);
    {
        int p = ctx->pos;
        int n = chunk->thunks.len;
        {
            const char *s = ctx->buffer.buf + ctx->pos;
            if (
                pcc_refill_buffer(ctx, 8) < 8 ||
                s[0] != 'f' ||
                s[1] != 'u' ||
                s[2] != 'n' ||
                s[3] != 'c' ||
                s[4] != 't' ||
                s[5] != 'i' ||
                s[6] != 'o' ||
                s[7] != 'n'
            ) goto L0002;
            ctx->pos += 8;
        }
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_type_func_args, &chunk->thunks, &(chunk->values.buf[0]))) goto L0002;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != ':'
        ) goto L0002;
        ctx->pos++;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        {
            int p = ctx->pos, q;
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule_ident, &chunk->thunks, NULL)) goto L0002;
            q = ctx->pos;
            chunk->capts.buf[0].range.start = p;
            chunk->capts.buf[0].range.end = q;
        }
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != '('
        ) goto L0002;
        ctx->pos++;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_define_func_0, 3, 2);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.capts.buf[0] = &(chunk->capts.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_define_args, &chunk->thunks, &(chunk->values.buf[1]))) goto L0003;
    L0003:;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != ')'
        ) goto L0002;
        ctx->pos++;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__block, &chunk->thunks, &(chunk->values.buf[2]))) goto L0004;
    L0004:;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        {
            const char *s = ctx->buffer.buf + ctx->pos;
            if (
                pcc_refill_buffer(ctx, 3) < 3 ||
                s[0] != 'e' ||
                s[1] != 'n' ||
                s[2] != 'd'
            ) goto L0002;
            ctx->pos += 3;
        }
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_define_func_1, 3, 2);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
            thunk->data.leaf.values.buf[2] = &(chunk->values.buf[2]);
            thunk->data.leaf.capts.buf[0] = &(chunk->capts.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0002:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        {
            const char *s = ctx->buffer.buf + ctx->pos;
            if (
                pcc_refill_buffer(ctx, 8) < 8 ||
                s[0] != 'f' ||
                s[1] != 'u' ||
                s[2] != 'n' ||
                s[3] != 'c' ||
                s[4] != 't' ||
                s[5] != 'i' ||
                s[6] != 'o' ||
                s[7] != 'n'
            ) goto L0005;
            ctx->pos += 8;
        }
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0005;
        {
            int p = ctx->pos, q;
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule_ident, &chunk->thunks, NULL)) goto L0005;
            q = ctx->pos;
            chunk->capts.buf[1].range.start = p;
            chunk->capts.buf[1].range.end = q;
        }
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0005;
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != '('
        ) goto L0005;
        ctx->pos++;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0005;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_define_func_2, 3, 2);
            thunk->data.leaf.capts.buf[1] = &(chunk->capts.buf[1]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_define_args, &chunk->thunks, &(chunk->values.buf[1]))) goto L0006;
    L0006:;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0005;
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != ')'
        ) goto L0005;
        ctx->pos++;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0005;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__block, &chunk->thunks, &(chunk->values.buf[2]))) goto L0007;
    L0007:;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0005;
        {
            const char *s = ctx->buffer.buf + ctx->pos;
            if (
                pcc_refill_buffer(ctx, 3) < 3 ||
                s[0] != 'e' ||
                s[1] != 'n' ||
                s[2] != 'd'
            ) goto L0005;
            ctx->pos += 3;
        }
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0005;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_define_func_3, 3, 2);
            thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
            thunk->data.leaf.values.buf[2] = &(chunk->values.buf[2]);
            thunk->data.leaf.capts.buf[1] = &(chunk->capts.buf[1]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0005:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        goto L0000;
    L0001:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_define_args(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 2);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule_define_arg, &chunk->thunks, &(chunk->values.buf[0]))) goto L0000;
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_define_args_0, 2, 0);
        thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        int i;
        for (i = 0;; i++) {
            if (
                pcc_refill_buffer(ctx, 1) < 1 ||
                ctx->buffer.buf[ctx->pos] != ','
            ) goto L0001;
            ctx->pos++;
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0001;
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule_define_arg, &chunk->thunks, &(chunk->values.buf[1]))) goto L0001;
            {
                pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_define_args_1, 2, 0);
                thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
                thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
                thunk->data.leaf.capt0.range.start = chunk->pos;
                thunk->data.leaf.capt0.range.end = ctx->pos;
                pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
            }
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0001;
        }
    L0001:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_define_arg(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 1);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 1);
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule_type_expr, &chunk->thunks, &(chunk->values.buf[0]))) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    if (
        pcc_refill_buffer(ctx, 1) < 1 ||
        ctx->buffer.buf[ctx->pos] != ':'
    ) goto L0000;
    ctx->pos++;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        int p = ctx->pos, q;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_ident, &chunk->thunks, NULL)) goto L0000;
        q = ctx->pos;
        chunk->capts.buf[0].range.start = p;
        chunk->capts.buf[0].range.end = q;
    }
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_define_arg_0, 1, 1);
        thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
        thunk->data.leaf.capts.buf[0] = &(chunk->capts.buf[0]);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_ret_stat(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 2);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    {
        const char *s = ctx->buffer.buf + ctx->pos;
        if (
            pcc_refill_buffer(ctx, 6) < 6 ||
            s[0] != 'r' ||
            s[1] != 'e' ||
            s[2] != 't' ||
            s[3] != 'u' ||
            s[4] != 'r' ||
            s[5] != 'n'
        ) goto L0000;
        ctx->pos += 6;
    }
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_ret_stat_0, 2, 0);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule_expression, &chunk->thunks, &(chunk->values.buf[0]))) goto L0001;
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_ret_stat_1, 2, 0);
        thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
L0001:;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        int i;
        for (i = 0;; i++) {
            if (
                pcc_refill_buffer(ctx, 1) < 1 ||
                ctx->buffer.buf[ctx->pos] != ','
            ) goto L0002;
            ctx->pos++;
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule_expression, &chunk->thunks, &(chunk->values.buf[1]))) goto L0002;
            {
                pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_ret_stat_2, 2, 0);
                thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
                thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
                thunk->data.leaf.capt0.range.start = chunk->pos;
                thunk->data.leaf.capt0.range.end = ctx->pos;
                pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
            }
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        }
    L0002:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_break_cmd(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 0);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    {
        const char *s = ctx->buffer.buf + ctx->pos;
        if (
            pcc_refill_buffer(ctx, 5) < 5 ||
            s[0] != 'b' ||
            s[1] != 'r' ||
            s[2] != 'e' ||
            s[3] != 'a' ||
            s[4] != 'k'
        ) goto L0000;
        ctx->pos += 5;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_break_cmd_0, 0, 0);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_continue_cmd(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 0);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    {
        const char *s = ctx->buffer.buf + ctx->pos;
        if (
            pcc_refill_buffer(ctx, 8) < 8 ||
            s[0] != 'c' ||
            s[1] != 'o' ||
            s[2] != 'n' ||
            s[3] != 't' ||
            s[4] != 'i' ||
            s[5] != 'n' ||
            s[6] != 'u' ||
            s[7] != 'e'
        ) goto L0000;
        ctx->pos += 8;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_continue_cmd_0, 0, 0);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_expression(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 2);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    {
        int p = ctx->pos;
        int n = chunk->thunks.len;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_assign, &chunk->thunks, &(chunk->values.buf[0]))) goto L0002;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_expression_0, 2, 0);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0002:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_logic, &chunk->thunks, &(chunk->values.buf[1]))) goto L0003;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_expression_1, 2, 0);
            thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0003:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        goto L0000;
    L0001:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_logic(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 3);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 1);
    {
        int p = ctx->pos;
        int n = chunk->thunks.len;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_logic, &chunk->thunks, &(chunk->values.buf[0]))) goto L0002;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        {
            int p = ctx->pos, q;
            {
                int p = ctx->pos;
                int n = chunk->thunks.len;
                {
                    const char *s = ctx->buffer.buf + ctx->pos;
                    if (
                        pcc_refill_buffer(ctx, 2) < 2 ||
                        s[0] != '&' ||
                        s[1] != '&'
                    ) goto L0004;
                    ctx->pos += 2;
                }
                goto L0003;
            L0004:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                {
                    const char *s = ctx->buffer.buf + ctx->pos;
                    if (
                        pcc_refill_buffer(ctx, 2) < 2 ||
                        s[0] != '|' ||
                        s[1] != '|'
                    ) goto L0005;
                    ctx->pos += 2;
                }
                goto L0003;
            L0005:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                {
                    const char *s = ctx->buffer.buf + ctx->pos;
                    if (
                        pcc_refill_buffer(ctx, 2) < 2 ||
                        s[0] != '^' ||
                        s[1] != '^'
                    ) goto L0006;
                    ctx->pos += 2;
                }
                goto L0003;
            L0006:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                goto L0002;
            L0003:;
            }
            q = ctx->pos;
            chunk->capts.buf[0].range.start = p;
            chunk->capts.buf[0].range.end = q;
        }
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_bitwise, &chunk->thunks, &(chunk->values.buf[1]))) goto L0002;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_logic_0, 3, 1);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
            thunk->data.leaf.capts.buf[0] = &(chunk->capts.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0002:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_bitwise, &chunk->thunks, &(chunk->values.buf[2]))) goto L0007;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_logic_1, 3, 1);
            thunk->data.leaf.values.buf[2] = &(chunk->values.buf[2]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0007:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        goto L0000;
    L0001:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_bitwise(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 3);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 1);
    {
        int p = ctx->pos;
        int n = chunk->thunks.len;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_bitwise, &chunk->thunks, &(chunk->values.buf[0]))) goto L0002;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        {
            int p = ctx->pos, q;
            {
                int p = ctx->pos;
                int n = chunk->thunks.len;
                if (
                    pcc_refill_buffer(ctx, 1) < 1 ||
                    ctx->buffer.buf[ctx->pos] != '&'
                ) goto L0004;
                ctx->pos++;
                goto L0003;
            L0004:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                if (
                    pcc_refill_buffer(ctx, 1) < 1 ||
                    ctx->buffer.buf[ctx->pos] != '|'
                ) goto L0005;
                ctx->pos++;
                goto L0003;
            L0005:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                if (
                    pcc_refill_buffer(ctx, 1) < 1 ||
                    ctx->buffer.buf[ctx->pos] != '^'
                ) goto L0006;
                ctx->pos++;
                goto L0003;
            L0006:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                goto L0002;
            L0003:;
            }
            q = ctx->pos;
            chunk->capts.buf[0].range.start = p;
            chunk->capts.buf[0].range.end = q;
        }
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_compare, &chunk->thunks, &(chunk->values.buf[1]))) goto L0002;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_bitwise_0, 3, 1);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
            thunk->data.leaf.capts.buf[0] = &(chunk->capts.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0002:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_compare, &chunk->thunks, &(chunk->values.buf[2]))) goto L0007;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_bitwise_1, 3, 1);
            thunk->data.leaf.values.buf[2] = &(chunk->values.buf[2]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0007:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        goto L0000;
    L0001:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_compare(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 3);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 1);
    {
        int p = ctx->pos;
        int n = chunk->thunks.len;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_compare, &chunk->thunks, &(chunk->values.buf[0]))) goto L0002;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        {
            int p = ctx->pos, q;
            {
                int p = ctx->pos;
                int n = chunk->thunks.len;
                {
                    const char *s = ctx->buffer.buf + ctx->pos;
                    if (
                        pcc_refill_buffer(ctx, 2) < 2 ||
                        s[0] != '<' ||
                        s[1] != '='
                    ) goto L0004;
                    ctx->pos += 2;
                }
                goto L0003;
            L0004:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                {
                    const char *s = ctx->buffer.buf + ctx->pos;
                    if (
                        pcc_refill_buffer(ctx, 2) < 2 ||
                        s[0] != '>' ||
                        s[1] != '='
                    ) goto L0005;
                    ctx->pos += 2;
                }
                goto L0003;
            L0005:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                if (
                    pcc_refill_buffer(ctx, 1) < 1 ||
                    ctx->buffer.buf[ctx->pos] != '<'
                ) goto L0006;
                ctx->pos++;
                goto L0003;
            L0006:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                if (
                    pcc_refill_buffer(ctx, 1) < 1 ||
                    ctx->buffer.buf[ctx->pos] != '>'
                ) goto L0007;
                ctx->pos++;
                goto L0003;
            L0007:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                {
                    const char *s = ctx->buffer.buf + ctx->pos;
                    if (
                        pcc_refill_buffer(ctx, 2) < 2 ||
                        s[0] != '=' ||
                        s[1] != '='
                    ) goto L0008;
                    ctx->pos += 2;
                }
                goto L0003;
            L0008:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                {
                    const char *s = ctx->buffer.buf + ctx->pos;
                    if (
                        pcc_refill_buffer(ctx, 2) < 2 ||
                        s[0] != '!' ||
                        s[1] != '='
                    ) goto L0009;
                    ctx->pos += 2;
                }
                goto L0003;
            L0009:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                goto L0002;
            L0003:;
            }
            q = ctx->pos;
            chunk->capts.buf[0].range.start = p;
            chunk->capts.buf[0].range.end = q;
        }
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_term, &chunk->thunks, &(chunk->values.buf[1]))) goto L0002;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_compare_0, 3, 1);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
            thunk->data.leaf.capts.buf[0] = &(chunk->capts.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0002:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_term, &chunk->thunks, &(chunk->values.buf[2]))) goto L0010;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_compare_1, 3, 1);
            thunk->data.leaf.values.buf[2] = &(chunk->values.buf[2]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0010:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        goto L0000;
    L0001:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_term(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 3);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 1);
    {
        int p = ctx->pos;
        int n = chunk->thunks.len;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_term, &chunk->thunks, &(chunk->values.buf[0]))) goto L0002;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        {
            int p = ctx->pos, q;
            {
                int p = ctx->pos;
                int n = chunk->thunks.len;
                if (
                    pcc_refill_buffer(ctx, 1) < 1 ||
                    ctx->buffer.buf[ctx->pos] != '+'
                ) goto L0004;
                ctx->pos++;
                goto L0003;
            L0004:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                if (
                    pcc_refill_buffer(ctx, 1) < 1 ||
                    ctx->buffer.buf[ctx->pos] != '-'
                ) goto L0005;
                ctx->pos++;
                goto L0003;
            L0005:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                goto L0002;
            L0003:;
            }
            q = ctx->pos;
            chunk->capts.buf[0].range.start = p;
            chunk->capts.buf[0].range.end = q;
        }
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_factor, &chunk->thunks, &(chunk->values.buf[1]))) goto L0002;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_term_0, 3, 1);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
            thunk->data.leaf.capts.buf[0] = &(chunk->capts.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0002:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_factor, &chunk->thunks, &(chunk->values.buf[2]))) goto L0006;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_term_1, 3, 1);
            thunk->data.leaf.values.buf[2] = &(chunk->values.buf[2]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0006:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        goto L0000;
    L0001:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_factor(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 3);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 1);
    {
        int p = ctx->pos;
        int n = chunk->thunks.len;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_factor, &chunk->thunks, &(chunk->values.buf[0]))) goto L0002;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        {
            int p = ctx->pos, q;
            {
                int p = ctx->pos;
                int n = chunk->thunks.len;
                if (
                    pcc_refill_buffer(ctx, 1) < 1 ||
                    ctx->buffer.buf[ctx->pos] != '*'
                ) goto L0004;
                ctx->pos++;
                goto L0003;
            L0004:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                if (
                    pcc_refill_buffer(ctx, 1) < 1 ||
                    ctx->buffer.buf[ctx->pos] != '/'
                ) goto L0005;
                ctx->pos++;
                goto L0003;
            L0005:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                if (
                    pcc_refill_buffer(ctx, 1) < 1 ||
                    ctx->buffer.buf[ctx->pos] != '%'
                ) goto L0006;
                ctx->pos++;
                goto L0003;
            L0006:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                goto L0002;
            L0003:;
            }
            q = ctx->pos;
            chunk->capts.buf[0].range.start = p;
            chunk->capts.buf[0].range.end = q;
        }
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_unop, &chunk->thunks, &(chunk->values.buf[1]))) goto L0002;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_factor_0, 3, 1);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
            thunk->data.leaf.capts.buf[0] = &(chunk->capts.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0002:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_unop, &chunk->thunks, &(chunk->values.buf[2]))) goto L0007;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_factor_1, 3, 1);
            thunk->data.leaf.values.buf[2] = &(chunk->values.buf[2]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0007:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        goto L0000;
    L0001:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_unop(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 2);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 1);
    {
        int p = ctx->pos;
        int n = chunk->thunks.len;
        {
            int p = ctx->pos, q;
            {
                int p = ctx->pos;
                int n = chunk->thunks.len;
                if (
                    pcc_refill_buffer(ctx, 1) < 1 ||
                    ctx->buffer.buf[ctx->pos] != '$'
                ) goto L0004;
                ctx->pos++;
                goto L0003;
            L0004:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                if (
                    pcc_refill_buffer(ctx, 1) < 1 ||
                    ctx->buffer.buf[ctx->pos] != '@'
                ) goto L0005;
                ctx->pos++;
                goto L0003;
            L0005:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                {
                    const char *s = ctx->buffer.buf + ctx->pos;
                    if (
                        pcc_refill_buffer(ctx, 2) < 2 ||
                        s[0] != '-' ||
                        s[1] != '-'
                    ) goto L0006;
                    ctx->pos += 2;
                }
                goto L0003;
            L0006:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                if (
                    pcc_refill_buffer(ctx, 1) < 1 ||
                    ctx->buffer.buf[ctx->pos] != '-'
                ) goto L0007;
                ctx->pos++;
                goto L0003;
            L0007:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                {
                    const char *s = ctx->buffer.buf + ctx->pos;
                    if (
                        pcc_refill_buffer(ctx, 2) < 2 ||
                        s[0] != '+' ||
                        s[1] != '+'
                    ) goto L0008;
                    ctx->pos += 2;
                }
                goto L0003;
            L0008:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                if (
                    pcc_refill_buffer(ctx, 1) < 1 ||
                    ctx->buffer.buf[ctx->pos] != '!'
                ) goto L0009;
                ctx->pos++;
                goto L0003;
            L0009:;
                ctx->pos = p;
                pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
                goto L0002;
            L0003:;
            }
            q = ctx->pos;
            chunk->capts.buf[0].range.start = p;
            chunk->capts.buf[0].range.end = q;
        }
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_unop, &chunk->thunks, &(chunk->values.buf[0]))) goto L0002;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_unop_0, 2, 1);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.capts.buf[0] = &(chunk->capts.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0002:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_primary, &chunk->thunks, &(chunk->values.buf[1]))) goto L0010;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_unop_1, 2, 1);
            thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0010:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        goto L0000;
    L0001:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_unop_stat(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 1);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 1);
    {
        int p = ctx->pos, q;
        {
            int p = ctx->pos;
            int n = chunk->thunks.len;
            {
                const char *s = ctx->buffer.buf + ctx->pos;
                if (
                    pcc_refill_buffer(ctx, 2) < 2 ||
                    s[0] != '-' ||
                    s[1] != '-'
                ) goto L0002;
                ctx->pos += 2;
            }
            goto L0001;
        L0002:;
            ctx->pos = p;
            pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
            {
                const char *s = ctx->buffer.buf + ctx->pos;
                if (
                    pcc_refill_buffer(ctx, 2) < 2 ||
                    s[0] != '+' ||
                    s[1] != '+'
                ) goto L0003;
                ctx->pos += 2;
            }
            goto L0001;
        L0003:;
            ctx->pos = p;
            pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
            goto L0000;
        L0001:;
        }
        q = ctx->pos;
        chunk->capts.buf[0].range.start = p;
        chunk->capts.buf[0].range.end = q;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule_unop, &chunk->thunks, &(chunk->values.buf[0]))) goto L0000;
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_unop_stat_0, 1, 1);
        thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
        thunk->data.leaf.capts.buf[0] = &(chunk->capts.buf[0]);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_primary(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 1);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 2);
    {
        int p = ctx->pos;
        int n = chunk->thunks.len;
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != '.'
        ) goto L0002;
        ctx->pos++;
        {
            int p = ctx->pos;
            int i;
            for (i = 0;; i++) {
                char c;
                if (pcc_refill_buffer(ctx, 1) < 1) goto L0003;
                c = ctx->buffer.buf[ctx->pos];
                if (!(c >= '0' && c <= '9')) goto L0003;
                ctx->pos++;
            }
        L0003:;
            if (i < 1) {
                ctx->pos = p;
                goto L0002;
            }
        }
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != 'e'
        ) goto L0004;
        ctx->pos++;
        {
            char c;
            if (pcc_refill_buffer(ctx, 1) < 1) goto L0005;
            c = ctx->buffer.buf[ctx->pos];
            if (!(
                c == '-' ||
                c == '+'
            )) goto L0005;
            ctx->pos++;
        }
    L0005:;
        {
            int p = ctx->pos;
            int i;
            for (i = 0;; i++) {
                char c;
                if (pcc_refill_buffer(ctx, 1) < 1) goto L0006;
                c = ctx->buffer.buf[ctx->pos];
                if (!(c >= '0' && c <= '9')) goto L0006;
                ctx->pos++;
            }
        L0006:;
            if (i < 1) {
                ctx->pos = p;
                goto L0004;
            }
        }
    L0004:;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_primary_0, 1, 2);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0002:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        {
            const char *s = ctx->buffer.buf + ctx->pos;
            if (
                pcc_refill_buffer(ctx, 2) < 2 ||
                s[0] != '0' ||
                s[1] != 'x'
            ) goto L0007;
            ctx->pos += 2;
        }
        {
            int p = ctx->pos, q;
            {
                int p = ctx->pos;
                int i;
                for (i = 0;; i++) {
                    char c;
                    if (pcc_refill_buffer(ctx, 1) < 1) goto L0008;
                    c = ctx->buffer.buf[ctx->pos];
                    if (!(
                        (c >= '0' && c <= '9') ||
                        (c >= 'a' && c <= 'f') ||
                        (c >= 'A' && c <= 'F')
                    )) goto L0008;
                    ctx->pos++;
                }
            L0008:;
                if (i < 1) {
                    ctx->pos = p;
                    goto L0007;
                }
            }
            q = ctx->pos;
            chunk->capts.buf[0].range.start = p;
            chunk->capts.buf[0].range.end = q;
        }
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_primary_1, 1, 2);
            thunk->data.leaf.capts.buf[0] = &(chunk->capts.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0007:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        {
            int p = ctx->pos;
            int i;
            for (i = 0;; i++) {
                char c;
                if (pcc_refill_buffer(ctx, 1) < 1) goto L0010;
                c = ctx->buffer.buf[ctx->pos];
                if (!(c >= '0' && c <= '9')) goto L0010;
                ctx->pos++;
            }
        L0010:;
            if (i < 1) {
                ctx->pos = p;
                goto L0009;
            }
        }
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != '.'
        ) goto L0011;
        ctx->pos++;
        {
            int p = ctx->pos;
            int i;
            for (i = 0;; i++) {
                char c;
                if (pcc_refill_buffer(ctx, 1) < 1) goto L0012;
                c = ctx->buffer.buf[ctx->pos];
                if (!(c >= '0' && c <= '9')) goto L0012;
                ctx->pos++;
            }
        L0012:;
            if (i < 1) {
                ctx->pos = p;
                goto L0011;
            }
        }
    L0011:;
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != 'e'
        ) goto L0013;
        ctx->pos++;
        {
            char c;
            if (pcc_refill_buffer(ctx, 1) < 1) goto L0014;
            c = ctx->buffer.buf[ctx->pos];
            if (!(
                c == '-' ||
                c == '+'
            )) goto L0014;
            ctx->pos++;
        }
    L0014:;
        {
            int p = ctx->pos;
            int i;
            for (i = 0;; i++) {
                char c;
                if (pcc_refill_buffer(ctx, 1) < 1) goto L0015;
                c = ctx->buffer.buf[ctx->pos];
                if (!(c >= '0' && c <= '9')) goto L0015;
                ctx->pos++;
            }
        L0015:;
            if (i < 1) {
                ctx->pos = p;
                goto L0013;
            }
        }
    L0013:;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_primary_2, 1, 2);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0009:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        {
            int p = ctx->pos;
            int i;
            for (i = 0;; i++) {
                char c;
                if (pcc_refill_buffer(ctx, 1) < 1) goto L0017;
                c = ctx->buffer.buf[ctx->pos];
                if (!(c >= '0' && c <= '9')) goto L0017;
                ctx->pos++;
            }
        L0017:;
            if (i < 1) {
                ctx->pos = p;
                goto L0016;
            }
        }
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_primary_3, 1, 2);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0016:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != '\"'
        ) goto L0018;
        ctx->pos++;
        {
            int p = ctx->pos, q;
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule_string, &chunk->thunks, NULL)) goto L0018;
            q = ctx->pos;
            chunk->capts.buf[1].range.start = p;
            chunk->capts.buf[1].range.end = q;
        }
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != '\"'
        ) goto L0018;
        ctx->pos++;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_primary_4, 1, 2);
            thunk->data.leaf.capts.buf[1] = &(chunk->capts.buf[1]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0018:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_call, &chunk->thunks, &(chunk->values.buf[0]))) goto L0019;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_primary_5, 1, 2);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0019:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_lvalue, &chunk->thunks, &(chunk->values.buf[0]))) goto L0020;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_primary_6, 1, 2);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0020:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != '('
        ) goto L0021;
        ctx->pos++;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0021;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_expression, &chunk->thunks, &(chunk->values.buf[0]))) goto L0021;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0021;
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != ')'
        ) goto L0021;
        ctx->pos++;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_primary_7, 1, 2);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0021:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        goto L0000;
    L0001:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_string(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 0);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    {
        int p = ctx->pos;
        int n = chunk->thunks.len;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_string, &chunk->thunks, NULL)) goto L0002;
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] == '\"'
        ) goto L0002;
        ctx->pos++;
        goto L0001;
    L0002:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != '\"'
        ) goto L0003;
        ctx->pos++;
        goto L0001;
    L0003:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] == '\"'
        ) goto L0004;
        ctx->pos++;
        goto L0001;
    L0004:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        goto L0000;
    L0001:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_ident(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 0);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    {
        int p = ctx->pos;
        {
            int p = ctx->pos;
            int n = chunk->thunks.len;
            {
                const char *s = ctx->buffer.buf + ctx->pos;
                if (
                    pcc_refill_buffer(ctx, 2) < 2 ||
                    s[0] != 'd' ||
                    s[1] != 'o'
                ) goto L0003;
                ctx->pos += 2;
            }
            goto L0002;
        L0003:;
            ctx->pos = p;
            pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
            {
                const char *s = ctx->buffer.buf + ctx->pos;
                if (
                    pcc_refill_buffer(ctx, 3) < 3 ||
                    s[0] != 'e' ||
                    s[1] != 'n' ||
                    s[2] != 'd'
                ) goto L0004;
                ctx->pos += 3;
            }
            goto L0002;
        L0004:;
            ctx->pos = p;
            pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
            {
                const char *s = ctx->buffer.buf + ctx->pos;
                if (
                    pcc_refill_buffer(ctx, 4) < 4 ||
                    s[0] != 'e' ||
                    s[1] != 'l' ||
                    s[2] != 's' ||
                    s[3] != 'e'
                ) goto L0005;
                ctx->pos += 4;
            }
            goto L0002;
        L0005:;
            ctx->pos = p;
            pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
            goto L0001;
        L0002:;
        }
        ctx->pos = p;
        goto L0000;
    L0001:;
        ctx->pos = p;
    }
    {
        char c;
        if (pcc_refill_buffer(ctx, 1) < 1) goto L0000;
        c = ctx->buffer.buf[ctx->pos];
        if (!(
            (c >= 'a' && c <= 'z') ||
            (c >= 'A' && c <= 'Z') ||
            c == '_'
        )) goto L0000;
        ctx->pos++;
    }
    {
        int i;
        for (i = 0;; i++) {
            char c;
            if (pcc_refill_buffer(ctx, 1) < 1) goto L0006;
            c = ctx->buffer.buf[ctx->pos];
            if (!(
                (c >= 'a' && c <= 'z') ||
                (c >= 'A' && c <= 'Z') ||
                (c >= '0' && c <= '9') ||
                c == '_'
            )) goto L0006;
            ctx->pos++;
        }
    L0006:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_call(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 3);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule_lvalue, &chunk->thunks, &(chunk->values.buf[0]))) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    if (
        pcc_refill_buffer(ctx, 1) < 1 ||
        ctx->buffer.buf[ctx->pos] != '('
    ) goto L0000;
    ctx->pos++;
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_call_0, 3, 0);
        thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule_expression, &chunk->thunks, &(chunk->values.buf[1]))) goto L0001;
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_call_1, 3, 0);
        thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
        thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
L0001:;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        int i;
        for (i = 0;; i++) {
            if (
                pcc_refill_buffer(ctx, 1) < 1 ||
                ctx->buffer.buf[ctx->pos] != ','
            ) goto L0002;
            ctx->pos++;
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule_expression, &chunk->thunks, &(chunk->values.buf[2]))) goto L0002;
            {
                pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_call_2, 3, 0);
                thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
                thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
                thunk->data.leaf.values.buf[2] = &(chunk->values.buf[2]);
                thunk->data.leaf.capt0.range.start = chunk->pos;
                thunk->data.leaf.capt0.range.end = ctx->pos;
                pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
            }
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        }
    L0002:;
    }
    if (
        pcc_refill_buffer(ctx, 1) < 1 ||
        ctx->buffer.buf[ctx->pos] != ')'
    ) goto L0000;
    ctx->pos++;
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule__lvalue(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 2);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 1);
    {
        int p = ctx->pos;
        int n = chunk->thunks.len;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__lvalue, &chunk->thunks, &(chunk->values.buf[0]))) goto L0002;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != '.'
        ) goto L0002;
        ctx->pos++;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        {
            int p = ctx->pos, q;
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule_ident, &chunk->thunks, NULL)) goto L0002;
            q = ctx->pos;
            chunk->capts.buf[0].range.start = p;
            chunk->capts.buf[0].range.end = q;
        }
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action__lvalue_0, 2, 1);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.capts.buf[0] = &(chunk->capts.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0002:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__lvalue, &chunk->thunks, &(chunk->values.buf[0]))) goto L0003;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0003;
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != '['
        ) goto L0003;
        ctx->pos++;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0003;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_expression, &chunk->thunks, &(chunk->values.buf[1]))) goto L0003;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0003;
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != ']'
        ) goto L0003;
        ctx->pos++;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action__lvalue_1, 2, 1);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0003:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_ident, &chunk->thunks, NULL)) goto L0004;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action__lvalue_2, 2, 1);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0004:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != '@'
        ) goto L0005;
        ctx->pos++;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0005;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__lvalue, &chunk->thunks, &(chunk->values.buf[0]))) goto L0005;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action__lvalue_3, 2, 1);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0005:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        goto L0000;
    L0001:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_lvalue(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 2);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 1);
    {
        int p = ctx->pos;
        int n = chunk->thunks.len;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_lvalue, &chunk->thunks, &(chunk->values.buf[0]))) goto L0002;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != '.'
        ) goto L0002;
        ctx->pos++;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        {
            int p = ctx->pos, q;
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule_ident, &chunk->thunks, NULL)) goto L0002;
            q = ctx->pos;
            chunk->capts.buf[0].range.start = p;
            chunk->capts.buf[0].range.end = q;
        }
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_lvalue_0, 2, 1);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.capts.buf[0] = &(chunk->capts.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0002:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_lvalue, &chunk->thunks, &(chunk->values.buf[0]))) goto L0003;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0003;
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != '['
        ) goto L0003;
        ctx->pos++;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0003;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_expression, &chunk->thunks, &(chunk->values.buf[1]))) goto L0003;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0003;
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != ']'
        ) goto L0003;
        ctx->pos++;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_lvalue_1, 2, 1);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0003:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_ident, &chunk->thunks, NULL)) goto L0004;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_lvalue_2, 2, 1);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0004:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != '@'
        ) goto L0005;
        ctx->pos++;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0005;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_lvalue, &chunk->thunks, &(chunk->values.buf[0]))) goto L0005;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_lvalue_3, 2, 1);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0005:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        goto L0000;
    L0001:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_type_expr(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 2);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    {
        int p = ctx->pos;
        int n = chunk->thunks.len;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_type_expr, &chunk->thunks, &(chunk->values.buf[0]))) goto L0002;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        {
            const char *s = ctx->buffer.buf + ctx->pos;
            if (
                pcc_refill_buffer(ctx, 5) < 5 ||
                s[0] != 'c' ||
                s[1] != 'o' ||
                s[2] != 'n' ||
                s[3] != 's' ||
                s[4] != 't'
            ) goto L0002;
            ctx->pos += 5;
        }
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_type_expr_0, 2, 0);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0002:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_type_expr, &chunk->thunks, &(chunk->values.buf[0]))) goto L0003;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0003;
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != '*'
        ) goto L0003;
        ctx->pos++;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_type_expr_1, 2, 0);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0003:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_type_expr, &chunk->thunks, &(chunk->values.buf[0]))) goto L0004;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0004;
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != '['
        ) goto L0004;
        ctx->pos++;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0004;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_expression, &chunk->thunks, &(chunk->values.buf[1]))) goto L0004;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0004;
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != ']'
        ) goto L0004;
        ctx->pos++;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_type_expr_2, 2, 0);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0004:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_type_primary, &chunk->thunks, &(chunk->values.buf[0]))) goto L0005;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_type_expr_3, 2, 0);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0005:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        goto L0000;
    L0001:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_type_primary(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 1);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    {
        int p = ctx->pos;
        int n = chunk->thunks.len;
        {
            const char *s = ctx->buffer.buf + ctx->pos;
            if (
                pcc_refill_buffer(ctx, 5) < 5 ||
                s[0] != 'c' ||
                s[1] != 'o' ||
                s[2] != 'n' ||
                s[3] != 's' ||
                s[4] != 't'
            ) goto L0002;
            ctx->pos += 5;
        }
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0002;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_base_type_expr, &chunk->thunks, &(chunk->values.buf[0]))) goto L0002;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_type_primary_0, 1, 0);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0002:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_base_type_expr, &chunk->thunks, &(chunk->values.buf[0]))) goto L0003;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_type_primary_1, 1, 0);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0003:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        goto L0000;
    L0001:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_base_type_expr(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 1);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    {
        int p = ctx->pos;
        int n = chunk->thunks.len;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_type_func, &chunk->thunks, &(chunk->values.buf[0]))) goto L0002;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_base_type_expr_0, 1, 0);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0002:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_ident, &chunk->thunks, NULL)) goto L0003;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_base_type_expr_1, 1, 0);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0003:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != '('
        ) goto L0004;
        ctx->pos++;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0004;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule_type_expr, &chunk->thunks, &(chunk->values.buf[0]))) goto L0004;
        if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0004;
        if (
            pcc_refill_buffer(ctx, 1) < 1 ||
            ctx->buffer.buf[ctx->pos] != ')'
        ) goto L0004;
        ctx->pos++;
        {
            pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_base_type_expr_2, 1, 0);
            thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
            thunk->data.leaf.capt0.range.start = chunk->pos;
            thunk->data.leaf.capt0.range.end = ctx->pos;
            pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
        }
        goto L0001;
    L0004:;
        ctx->pos = p;
        pcc_thunk_array__revert(ctx->auxil, &chunk->thunks, n);
        goto L0000;
    L0001:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_type_func(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 2);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    {
        const char *s = ctx->buffer.buf + ctx->pos;
        if (
            pcc_refill_buffer(ctx, 8) < 8 ||
            s[0] != 'f' ||
            s[1] != 'u' ||
            s[2] != 'n' ||
            s[3] != 'c' ||
            s[4] != 't' ||
            s[5] != 'i' ||
            s[6] != 'o' ||
            s[7] != 'n'
        ) goto L0000;
        ctx->pos += 8;
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule_type_func_args, &chunk->thunks, &(chunk->values.buf[0]))) goto L0001;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0001;
    if (
        pcc_refill_buffer(ctx, 1) < 1 ||
        ctx->buffer.buf[ctx->pos] != ':'
    ) goto L0001;
    ctx->pos++;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0001;
L0001:;
    if (
        pcc_refill_buffer(ctx, 1) < 1 ||
        ctx->buffer.buf[ctx->pos] != '('
    ) goto L0000;
    ctx->pos++;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule_type_func_args, &chunk->thunks, &(chunk->values.buf[1]))) goto L0002;
L0002:;
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    if (
        pcc_refill_buffer(ctx, 1) < 1 ||
        ctx->buffer.buf[ctx->pos] != ')'
    ) goto L0000;
    ctx->pos++;
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_type_func_0, 2, 0);
        thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
        thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule_type_func_args(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 2);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule_type_expr, &chunk->thunks, &(chunk->values.buf[0]))) goto L0000;
    {
        pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_type_func_args_0, 2, 0);
        thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
        thunk->data.leaf.capt0.range.start = chunk->pos;
        thunk->data.leaf.capt0.range.end = ctx->pos;
        pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
    }
    if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0000;
    {
        int i;
        for (i = 0;; i++) {
            if (
                pcc_refill_buffer(ctx, 1) < 1 ||
                ctx->buffer.buf[ctx->pos] != ','
            ) goto L0001;
            ctx->pos++;
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0001;
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule_type_expr, &chunk->thunks, &(chunk->values.buf[1]))) goto L0001;
            {
                pcc_thunk_t *thunk = pcc_thunk__create_leaf(ctx->auxil, pcc_action_type_func_args_1, 2, 0);
                thunk->data.leaf.values.buf[0] = &(chunk->values.buf[0]);
                thunk->data.leaf.values.buf[1] = &(chunk->values.buf[1]);
                thunk->data.leaf.capt0.range.start = chunk->pos;
                thunk->data.leaf.capt0.range.end = ctx->pos;
                pcc_thunk_array__add(ctx->auxil, &chunk->thunks, thunk);
            }
            if (!pcc_apply_rule(ctx, pcc_evaluate_rule__, &chunk->thunks, NULL)) goto L0001;
        }
    L0001:;
    }
    return chunk;
L0000:;
    pcc_thunk_chunk__destroy(ctx->auxil, chunk);
    return NULL;
}

static pcc_thunk_chunk_t *pcc_evaluate_rule__(lc_context_t *ctx) {
    pcc_thunk_chunk_t *chunk = pcc_thunk_chunk__create(ctx->auxil);
    chunk->pos = ctx->pos;
    pcc_value_table__resize(ctx->auxil, &chunk->values, 0);
    pcc_capture_table__resize(ctx->auxil, &chunk->capts, 0);
    {
        int i;
        for (i = 0;; i++) {
            char c;
            if (pcc_refill_buffer(ctx, 1) < 1) goto L0001;
            c = ctx->buffer.buf[ctx->pos];
            if (!(
                c == ' ' ||
                c == '\t' ||
                c == '\r' ||
                c == '\n'
            )) goto L0001;
            ctx->pos++;
        }
    L0001:;
    }
    return chunk;
}

lc_context_t *lc_create(parser_t*auxil) {
    return pcc_context__create(auxil);
}

int lc_parse(lc_context_t *ctx, int *ret) {
    pcc_thunk_array_t thunks;
    pcc_thunk_array__init(ctx->auxil, &thunks, PCC_ARRAYSIZE);
    if (pcc_apply_rule(ctx, pcc_evaluate_rule_stats, &thunks, ret))
        pcc_do_action(ctx, &thunks, ret);
    else
        PCC_ERROR(ctx->auxil);
    pcc_commit_buffer(ctx);
    pcc_thunk_array__term(ctx->auxil, &thunks);
    return pcc_refill_buffer(ctx, 1) >= 1;
}

void lc_destroy(lc_context_t *ctx) {
    pcc_context__destroy(ctx);
}

/*
typedef int (*F)(void);
typedef char (*F1)(void);
typedef int (*F2)(char*);
F fg(int v){ return ({ int foo (void){ return v; }; &foo; }); }
F1 iter(char *s){printf("%s\n", s++);  return ({ char *ss=strdup(s), **p=&ss; char foo1 (void){char c=**p;if(c)(*p)+=1; return c; }; &foo1; }); }
static char ss[]="1234567890\0";

#define foreach(KEY, ITER) for(typeof((ITER)()) KEY; KEY=(ITER)();)
#define foreach2(KEY, ITER) for(char KEY; (ITER)(&(KEY));)
*/

void luainit_lc_lua(lua_State *L) {
   static luaL_Reg LuaLexer__fn[] = newluaL_Reg(CmptObject_,
   	clone, pos, get_line, get_col, get_file, get_ctx, get_ident, get_level,
		scope_sub, scope_up, scope_find, scope_add, 
		scope_pairs, scope_first 
   );
	static luaL_Reg LuaLexer__mt[]= newluaL_Reg(CmptObject_,
		__tostring, __gc
	);
	LuaM_userdata_register_class(L, CMPT_OBJECT_TNAME, LuaLexer__fn, LuaLexer__mt);


   static luaL_Reg LuaIdent__fn[] = { NULL, NULL };
	static luaL_Reg LuaIdent__mt[]= newluaL_Reg(CmptIdent_,
		__tostring
	);
	LuaM_userdata_register_class(L, CMPT_IDENT_TNAME, LuaIdent__fn, LuaIdent__mt);


	static luaL_Reg LuaSymbol__mt[]= newluaL_Reg(CmptSymbol_,
		__tostring, __call, __index, __newindex
	);
	LuaM_userdata_register_proxy(L, CMPT_SYMBOL_TNAME, LuaSymbol__mt);


}

#define DLL_EXPORT __declspec(dllexport)

DLL_EXPORT LUALIB_API int luaopen_lc_lua1(lua_State *L) {
	luainit_lc_lua(L);
	static luaL_Reg LuaLexer__lib[]={
		{"parse_file", Cmpt_parse_file },
		{"scope_next", _scope_next },
		{NULL, NULL}
	};
	luaL_newlib(L, LuaLexer__lib);
	return 1;
}

int main(int argc, char** argv) {
//int (*f)(void) = ({ int foo (void){ return 4; }; &foo; });
//printf("%d\n", f());
//printf("\nforeach\n");
//F1 f1=({ char *s=ss; char foo1 (void){char c=*s;if(c)s++; return c; }; &foo1; });//iter(ss);
// foreach(c, f1) printf("%c ", c);
//
//printf("\nforeach2\n");
//F2 f2=({ char *s=ss; int foo1 (char *c){ *c=*s;if(*c)s++; return *c; }; &foo1; });//iter(ss);
// foreach2(c, f2) printf("%c ", c);
//printf("\n");
//
//f=fg(666);
//printf("%d\n", f());
//return 0;
	static int c, verbose_flag;
	output = stdin;
	const char* include_file = NULL;
  while (1)    {
      static struct option long_options[] =
        {
          /* These options set a flag. */
          {"verbose", no_argument,       &verbose_flag, 1},
          {"brief",   no_argument,       &verbose_flag, 0},
          /* These options dont set a flag.
             We distinguish them by their indices. */
          {"add",     no_argument,       0, 'a'},
          {"append",  no_argument,       0, 'b'},
          {"output",  required_argument, 0, 'o'},
          {"create",  required_argument, 0, 'c'},
          {"include",    required_argument, 0, 'i'},
          {0, 0, 0, 0}
        };
      /* getopt_long stores the option index here. */
      int option_index = 0;

      c = getopt_long (argc, argv, "o:i:",
                       long_options, &option_index);

      /* Detect the end of the options. */
      if (c == -1)
        break;

      switch (c)
        {
        case 0:
          /* If this option set a flag, do nothing else now. */
          if (long_options[option_index].flag != 0)
            break;
          printf ("option %s", long_options[option_index].name);
          if (optarg)
            printf (" with arg %s", optarg);
          printf ("\n");
          break;

        case 'a':
          puts ("option -a\n");
          break;

        case 'b':
          puts ("option -b\n");
          break;

        case 'c':
          printf ("option -c with value `%s'\n", optarg);
          break;

        case 'o':
          output = fopen(optarg, "w+");
          break;

        case 'i':
          printf ("option -i with value `%s'\n", optarg);
				include_file = strdup(optarg);
          break;

        case '?':
          /* getopt_long already printed an error message. */
          break;

        default:
          abort ();
        }
    }

  /* Instead of reporting --verbose
     and --brief as they are encountered,
     we report the final status resulting from them. */
  if (verbose_flag)
    puts ("verbose flag is set");

  /* Print any remaining command line arguments (not options). */
	//if (optind < argc)

	parser_t ps[20];
	int psi = 0;
	while (optind < argc && psi<20){
		const char * f = argv[optind++];
		FILE * fd = fopen(f, "r");
		if(!fd){
			fprintf(stderr, "can't open input file: `%s`\n", f);
		}else{
			//printf ("translate file: %s\n", f);
			lua_State*L = luaL_newstate();
			lua_newtable(L);	
			
			ps[psi++] = (parser_t){ 
				L, fd, f, 0, 0, 0, luaL_ref(L, LUA_REGISTRYINDEX), scope_new(NULL), new_idents()
			};
			luaL_openlibs(L);


	luainit_lc_lua(L);

	createCmptObject(L, &(ps[psi-1]));
	lua_setglobal(L, "AUXIL");

			if(include_file){ 
				printf ("include file: %s\n", include_file); 
				if(luaL_dofile(L, include_file)){
					fprintf(stderr, "C:\\lib\\packcc\\%s\n", luaL_checkstring(L, -1));
					exit(0);
				}
			}
			if(luaL_dofile(L, "C:\\lib\\packcc\\lc_lua.lua")){
				fprintf(stderr, luaL_checkstring(L, -1));
				exit(0);
			}

		}
		
	}

	OUT("int main(int argc, char** argv)\n{\n");

	for(int i = 0; i<psi; i++){
		printf ("translate file: %s\n", ps[i].file_name);
		lc_context_t *ctx = lc_create(&(ps[i]));
		//# lc_loadcodes(ps[i].L);
		while (lc_parse(ctx, NULL));
		lc_destroy(ctx);
	}

	OUT("\nreturn 0;\n}\n");




    return 0;
}